{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pranay\\\\Desktop\\\\Result_Analysis\\\\frontend\\\\src\\\\pages\\\\Teacher\\\\UpdateMarks.jsx\",\n  _s = $RefreshSig$();\n// src/pages/Teacher/UpdateMarks.jsx\nimport React, { useEffect, useState } from \"react\";\nimport api from \"../../services/api\";\nimport { useAuth } from \"../../context/AuthContext\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function UpdateMarks() {\n  _s();\n  useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [allocations, setAllocations] = useState([]);\n  const [division, setDivision] = useState(\"\");\n  const [studentRoll, setStudentRoll] = useState(\"\");\n  const [rows, setRows] = useState([]);\n  const [chosenSubjectId, setChosenSubjectId] = useState(\"\");\n  const [chosenSubjectCode, setChosenSubjectCode] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const FIELD_LIMITS = {\n    unit1: 25,\n    unit2: 25,\n    term: 50,\n    annual: 100\n  };\n  const FIELD_ORDER = [\"unit1\", \"unit2\", \"term\", \"annual\"];\n\n  // Load teacher allocations\n  useEffect(() => {\n    async function loadAlloc() {\n      const res = await api.get(\"/auth/me\");\n      const alloc = res.data.allocations || [];\n      setAllocations(alloc);\n      if (alloc.length) {\n        setDivision(alloc[0].division);\n        setChosenSubjectId(alloc[0].subject_id);\n        setChosenSubjectCode(alloc[0].subject_code);\n      }\n    }\n    loadAlloc();\n  }, []);\n\n  // detect URL params\n  useEffect(() => {\n    const q = new URLSearchParams(location.search);\n    if (q.get(\"subject_id\")) setChosenSubjectId(q.get(\"subject_id\"));\n    if (q.get(\"division\")) setDivision(q.get(\"division\"));\n  }, [location.search]);\n\n  // Auto-fetch students when subject or division changes\n  useEffect(() => {\n    if (chosenSubjectId && division) {\n      fetchStudents();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [chosenSubjectId, division]);\n  const fetchStudents = async () => {\n    if (!chosenSubjectId || !division) return alert(\"Select subject & division\");\n    setLoading(true);\n    try {\n      const res = await api.get(\"/teacher/marks\", {\n        params: {\n          subject_id: chosenSubjectId,\n          division\n        }\n      });\n      setRows((res.data || []).map(r => ({\n        ...r,\n        mark: r.mark || {\n          unit1: \"\",\n          unit2: \"\",\n          term: \"\",\n          annual: \"\"\n        }\n      })).filter(r => {\n        if (!studentRoll) return true;\n        return String(r.roll_no).startsWith(String(studentRoll));\n      }).sort((a, b) => Number(a.roll_no) - Number(b.roll_no)));\n    } catch {\n      setRows([]);\n    }\n    setLoading(false);\n  };\n  const onChange = (roll, field, val) => {\n    setRows(prev => prev.map(r => r.roll_no === roll ? {\n      ...r,\n      mark: {\n        ...r.mark,\n        [field]: val\n      }\n    } : r));\n    const n = Number(val);\n    const key = roll + \"_\" + field;\n    if (val === \"\" || n >= 0 && n <= FIELD_LIMITS[field]) {\n      setErrors(p => {\n        const x = {\n          ...p\n        };\n        delete x[key];\n        return x;\n      });\n    } else {\n      setErrors(p => ({\n        ...p,\n        [key]: \"Invalid\"\n      }));\n    }\n  };\n  const saveAll = async () => {\n    if (Object.keys(errors).length) return alert(\"Fix errors first\");\n    if (!window.confirm(\"Save all marks?\")) return;\n    setLoading(true);\n    try {\n      const entries = rows.map(r => ({\n        roll_no: r.roll_no,\n        division,\n        subject_id: Number(chosenSubjectId),\n        ...Object.fromEntries(Object.keys(FIELD_LIMITS).map(f => [f, Number(r.mark[f]) || 0]))\n      }));\n      await api.post(\"/teacher/marks/batch\", {\n        entries\n      });\n      alert(\"Saved successfully\");\n      fetchStudents();\n    } catch {\n      alert(\"Save failed\");\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: page,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: card,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: title,\n        children: \"Update Marks\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: btnBack,\n        onClick: () => navigate(-1),\n        children: \"\\u2190 Go Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: grid,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: label,\n            children: \"Subject\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            style: input,\n            value: chosenSubjectId,\n            onChange: e => {\n              const id = e.target.value;\n              const obj = allocations.find(a => String(a.subject_id) === id);\n              setChosenSubjectId(id);\n              setChosenSubjectCode(obj === null || obj === void 0 ? void 0 : obj.subject_code);\n              setDivision((obj === null || obj === void 0 ? void 0 : obj.division) || division);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this), allocations.map(a => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: a.subject_id,\n              children: [a.subject_code, \" \\u2014 \", a.subject_name]\n            }, a.subject_id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: label,\n            children: \"Division\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            style: input,\n            value: division,\n            onChange: e => setDivision(e.target.value),\n            children: [\"A\", \"B\", \"C\"].map(d => /*#__PURE__*/_jsxDEV(\"option\", {\n              children: d\n            }, d, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: label,\n            children: \"Roll No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            style: input,\n            value: studentRoll,\n            onChange: e => setStudentRoll(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            alignItems: \"flex-end\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            style: btnPrimary,\n            onClick: fetchStudents,\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }, this), rows.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: subTitle,\n          children: [\"Subject: \", chosenSubjectCode, \" | Division: \", division]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          style: table,\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            style: thead,\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Roll\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"U1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"U2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Term\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Annual\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Average\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: rows.map(r => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: r.roll_no\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: r.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 21\n              }, this), FIELD_ORDER.map(f => {\n                var _r$mark$f;\n                return /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    value: (_r$mark$f = r.mark[f]) !== null && _r$mark$f !== void 0 ? _r$mark$f : \"\",\n                    style: {\n                      ...input,\n                      width: 70\n                    },\n                    onChange: e => onChange(r.roll_no, f, e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 25\n                  }, this), errors[r.roll_no + \"_\" + f] && /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: err,\n                    children: \"Invalid\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 57\n                  }, this)]\n                }, f, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 23\n                }, this);\n              }), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  textAlign: \"center\"\n                },\n                children: (() => {\n                  const m = r.mark || {};\n                  const u1 = Number(m.unit1) || 0;\n                  const u2 = Number(m.unit2) || 0;\n                  const term = Number(m.term) || 0;\n                  const annual = Number(m.annual) || 0;\n                  const tot = u1 + u2 + term + annual;\n                  return tot || \"-\";\n                })()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  textAlign: \"center\"\n                },\n                children: (() => {\n                  const m = r.mark || {};\n                  const u1 = Number(m.unit1) || 0;\n                  const u2 = Number(m.unit2) || 0;\n                  const term = Number(m.term) || 0;\n                  const annual = Number(m.annual) || 0;\n                  const tot = u1 + u2 + term + annual;\n                  const avg = tot ? (tot / 2).toFixed(2) : \"-\";\n                  return avg;\n                })()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 21\n              }, this)]\n            }, r.roll_no, true, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"right\",\n            marginTop: 20\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            style: btnSave,\n            onClick: saveAll,\n            children: \"Save All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this);\n}\n\n/* ---------------------- STYLES ---------------------- */\n_s(UpdateMarks, \"L5vqG0asZDZ0cQPEXMioVXebnec=\", false, function () {\n  return [useAuth, useNavigate, useLocation];\n});\n_c = UpdateMarks;\nconst page = {\n  minHeight: \"100vh\",\n  background: \"#f4f6f9\",\n  padding: 40\n};\nconst card = {\n  maxWidth: 1200,\n  margin: \"auto\",\n  background: \"#fff\",\n  padding: 24,\n  borderRadius: 12\n};\nconst title = {\n  fontWeight: 800,\n  marginBottom: 20\n};\nconst subTitle = {\n  fontWeight: 700,\n  marginBottom: 10\n};\nconst label = {\n  fontWeight: 600,\n  marginBottom: 6,\n  display: \"block\"\n};\nconst grid = {\n  display: \"grid\",\n  gridTemplateColumns: \"repeat(auto-fit,minmax(220px,1fr))\",\n  gap: 16\n};\nconst input = {\n  width: \"100%\",\n  padding: \"10px\",\n  borderRadius: 6,\n  border: \"1px solid #ccc\"\n};\nconst btnPrimary = {\n  padding: \"10px 16px\",\n  background: \"#0d6efd\",\n  color: \"#fff\",\n  borderRadius: 6\n};\nconst btnSave = {\n  padding: \"12px 18px\",\n  background: \"#27ae60\",\n  color: \"#fff\",\n  borderRadius: 6\n};\nconst btnBack = {\n  marginBottom: 15,\n  background: \"#555\",\n  color: \"#fff\",\n  padding: \"8px 12px\",\n  borderRadius: 6\n};\nconst table = {\n  width: \"100%\",\n  borderCollapse: \"collapse\"\n};\nconst thead = {\n  background: \"#eee\"\n};\nconst err = {\n  color: \"#c0392b\",\n  fontSize: 12\n};\nvar _c;\n$RefreshReg$(_c, \"UpdateMarks\");","map":{"version":3,"names":["React","useEffect","useState","api","useAuth","useLocation","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","UpdateMarks","_s","navigate","location","allocations","setAllocations","division","setDivision","studentRoll","setStudentRoll","rows","setRows","chosenSubjectId","setChosenSubjectId","chosenSubjectCode","setChosenSubjectCode","loading","setLoading","errors","setErrors","FIELD_LIMITS","unit1","unit2","term","annual","FIELD_ORDER","loadAlloc","res","get","alloc","data","length","subject_id","subject_code","q","URLSearchParams","search","fetchStudents","alert","params","map","r","mark","filter","String","roll_no","startsWith","sort","a","b","Number","onChange","roll","field","val","prev","n","key","p","x","saveAll","Object","keys","window","confirm","entries","fromEntries","f","post","style","page","children","card","title","fileName","_jsxFileName","lineNumber","columnNumber","btnBack","onClick","grid","label","input","value","e","id","target","obj","find","subject_name","d","display","alignItems","btnPrimary","subTitle","table","thead","name","_r$mark$f","type","width","err","textAlign","m","u1","u2","tot","avg","toFixed","marginTop","btnSave","_c","minHeight","background","padding","maxWidth","margin","borderRadius","fontWeight","marginBottom","gridTemplateColumns","gap","border","color","borderCollapse","fontSize","$RefreshReg$"],"sources":["C:/Users/Pranay/Desktop/Result_Analysis/frontend/src/pages/Teacher/UpdateMarks.jsx"],"sourcesContent":["// src/pages/Teacher/UpdateMarks.jsx\r\nimport React, { useEffect, useState } from \"react\";\r\nimport api from \"../../services/api\";\r\nimport { useAuth } from \"../../context/AuthContext\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\n\r\nexport default function UpdateMarks() {\r\n  useAuth();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  const [allocations, setAllocations] = useState([]);\r\n  const [division, setDivision] = useState(\"\");\r\n  const [studentRoll, setStudentRoll] = useState(\"\");\r\n  const [rows, setRows] = useState([]);\r\n  const [chosenSubjectId, setChosenSubjectId] = useState(\"\");\r\n  const [chosenSubjectCode, setChosenSubjectCode] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const FIELD_LIMITS = { unit1: 25, unit2: 25, term: 50, annual: 100 };\r\n  const FIELD_ORDER = [\"unit1\", \"unit2\", \"term\", \"annual\"];\r\n\r\n  // Load teacher allocations\r\n  useEffect(() => {\r\n    async function loadAlloc() {\r\n      const res = await api.get(\"/auth/me\");\r\n      const alloc = res.data.allocations || [];\r\n      setAllocations(alloc);\r\n\r\n      if (alloc.length) {\r\n        setDivision(alloc[0].division);\r\n        setChosenSubjectId(alloc[0].subject_id);\r\n        setChosenSubjectCode(alloc[0].subject_code);\r\n      }\r\n    }\r\n    loadAlloc();\r\n  }, []);\r\n\r\n  // detect URL params\r\n  useEffect(() => {\r\n    const q = new URLSearchParams(location.search);\r\n    if (q.get(\"subject_id\")) setChosenSubjectId(q.get(\"subject_id\"));\r\n    if (q.get(\"division\")) setDivision(q.get(\"division\"));\r\n  }, [location.search]);\r\n\r\n  // Auto-fetch students when subject or division changes\r\n  useEffect(() => {\r\n    if (chosenSubjectId && division) {\r\n      fetchStudents();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [chosenSubjectId, division]);\r\n\r\n  const fetchStudents = async () => {\r\n    if (!chosenSubjectId || !division) return alert(\"Select subject & division\");\r\n\r\n    setLoading(true);\r\n    try {\r\n      const res = await api.get(\"/teacher/marks\", {\r\n        params: { subject_id: chosenSubjectId, division },\r\n      });\r\n\r\n      setRows(\r\n        (res.data || [])\r\n          .map((r) => ({\r\n            ...r,\r\n            mark: r.mark || { unit1: \"\", unit2: \"\", term: \"\", annual: \"\" },\r\n          }))\r\n          .filter((r) => {\r\n            if (!studentRoll) return true;\r\n            return String(r.roll_no).startsWith(String(studentRoll));\r\n          })\r\n          .sort((a, b) => Number(a.roll_no) - Number(b.roll_no))\r\n      );\r\n    } catch {\r\n      setRows([]);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const onChange = (roll, field, val) => {\r\n    setRows((prev) =>\r\n      prev.map((r) =>\r\n        r.roll_no === roll ? { ...r, mark: { ...r.mark, [field]: val } } : r\r\n      )\r\n    );\r\n\r\n    const n = Number(val);\r\n    const key = roll + \"_\" + field;\r\n\r\n    if (val === \"\" || (n >= 0 && n <= FIELD_LIMITS[field])) {\r\n      setErrors((p) => {\r\n        const x = { ...p };\r\n        delete x[key];\r\n        return x;\r\n      });\r\n    } else {\r\n      setErrors((p) => ({ ...p, [key]: \"Invalid\" }));\r\n    }\r\n  };\r\n\r\n  const saveAll = async () => {\r\n    if (Object.keys(errors).length) return alert(\"Fix errors first\");\r\n\r\n    if (!window.confirm(\"Save all marks?\")) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      const entries = rows.map((r) => ({\r\n        roll_no: r.roll_no,\r\n        division,\r\n        subject_id: Number(chosenSubjectId),\r\n        ...Object.fromEntries(\r\n            Object.keys(FIELD_LIMITS).map((f) => [f, Number(r.mark[f]) || 0])\r\n        ),\r\n      }));\r\n\r\n      await api.post(\"/teacher/marks/batch\", { entries });\r\n      alert(\"Saved successfully\");\r\n      fetchStudents();\r\n    } catch {\r\n      alert(\"Save failed\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div style={page}>\r\n      <div style={card}>\r\n        <h2 style={title}>Update Marks</h2>\r\n\r\n        <button style={btnBack} onClick={() => navigate(-1)}>\r\n          ← Go Back\r\n        </button>\r\n\r\n        <div style={grid}>\r\n          <div>\r\n            <label style={label}>Subject</label>\r\n            <select\r\n              style={input}\r\n              value={chosenSubjectId}\r\n              onChange={(e) => {\r\n                const id = e.target.value;\r\n                const obj = allocations.find((a) => String(a.subject_id) === id);\r\n\r\n                setChosenSubjectId(id);\r\n                setChosenSubjectCode(obj?.subject_code);\r\n                setDivision(obj?.division || division);\r\n              }}\r\n            >\r\n              <option value=\"\">Select</option>\r\n              {allocations.map((a) => (\r\n                <option key={a.subject_id} value={a.subject_id}>\r\n                  {a.subject_code} — {a.subject_name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label style={label}>Division</label>\r\n            <select style={input} value={division} onChange={(e) => setDivision(e.target.value)}>\r\n              {[\"A\", \"B\", \"C\"].map((d) => (\r\n                <option key={d}>{d}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label style={label}>Roll No</label>\r\n            <input style={input} value={studentRoll} onChange={(e) => setStudentRoll(e.target.value)} />\r\n          </div>\r\n\r\n          <div style={{ display: \"flex\", alignItems: \"flex-end\" }}>\r\n            <button style={btnPrimary} onClick={fetchStudents}>\r\n              Search\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {loading && <div>Loading...</div>}\r\n\r\n        {rows.length > 0 && (\r\n          <>\r\n            <div style={subTitle}>\r\n              Subject: {chosenSubjectCode} | Division: {division}\r\n            </div>\r\n\r\n            <table style={table}>\r\n              <thead style={thead}>\r\n                <tr>\r\n                  <th>Roll</th>\r\n                  <th>Name</th>\r\n                  <th>U1</th>\r\n                  <th>U2</th>\r\n                  <th>Term</th>\r\n                  <th>Annual</th>\r\n                \r\n                  <th>Total</th>\r\n                  <th>Average</th>\r\n                </tr>\r\n              </thead>\r\n\r\n              <tbody>\r\n                {rows.map((r) => (\r\n                  <tr key={r.roll_no}>\r\n                    <td>{r.roll_no}</td>\r\n                    <td>{r.name}</td>\r\n                    {FIELD_ORDER.map((f) => (\r\n                      <td key={f}>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={r.mark[f] ?? \"\"}\r\n                          style={{ ...input, width: 70 }}\r\n                          onChange={(e) => onChange(r.roll_no, f, e.target.value)}\r\n                        />\r\n                        {errors[r.roll_no + \"_\" + f] && <div style={err}>Invalid</div>}\r\n                      </td>\r\n                    ))}\r\n\r\n                    <td style={{ textAlign: \"center\" }}>\r\n                      {(() => {\r\n                        const m = r.mark || {};\r\n                        const u1 = Number(m.unit1) || 0;\r\n                        const u2 = Number(m.unit2) || 0;\r\n                        const term = Number(m.term) || 0;\r\n                        const annual = Number(m.annual) || 0;\r\n                        const tot = u1 + u2 + term + annual;\r\n                        return tot || \"-\";\r\n                      })()}\r\n                    </td>\r\n\r\n                    <td style={{ textAlign: \"center\" }}>\r\n                      {(() => {\r\n                        const m = r.mark || {};\r\n                        const u1 = Number(m.unit1) || 0;\r\n                        const u2 = Number(m.unit2) || 0;\r\n                        const term = Number(m.term) || 0;\r\n                        const annual = Number(m.annual) || 0;\r\n                        const tot = u1 + u2 + term + annual;\r\n                        const avg = tot ? (tot / 2).toFixed(2) : \"-\";\r\n                        return avg;\r\n                      })()}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n\r\n            <div style={{ textAlign: \"right\", marginTop: 20 }}>\r\n              <button style={btnSave} onClick={saveAll}>\r\n                Save All\r\n              </button>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ---------------------- STYLES ---------------------- */\r\nconst page = { minHeight: \"100vh\", background: \"#f4f6f9\", padding: 40 };\r\nconst card = { maxWidth: 1200, margin: \"auto\", background: \"#fff\", padding: 24, borderRadius: 12 };\r\nconst title = { fontWeight: 800, marginBottom: 20 };\r\nconst subTitle = { fontWeight: 700, marginBottom: 10 };\r\nconst label = { fontWeight: 600, marginBottom: 6, display: \"block\" };\r\nconst grid = { display: \"grid\", gridTemplateColumns: \"repeat(auto-fit,minmax(220px,1fr))\", gap: 16 };\r\nconst input = { width: \"100%\", padding: \"10px\", borderRadius: 6, border: \"1px solid #ccc\" };\r\nconst btnPrimary = { padding: \"10px 16px\", background: \"#0d6efd\", color: \"#fff\", borderRadius: 6 };\r\nconst btnSave = { padding: \"12px 18px\", background: \"#27ae60\", color: \"#fff\", borderRadius: 6 };\r\nconst btnBack = { marginBottom: 15, background: \"#555\", color: \"#fff\", padding: \"8px 12px\", borderRadius: 6 };\r\nconst table = { width: \"100%\", borderCollapse: \"collapse\" };\r\nconst thead = { background: \"#eee\" };\r\nconst err = { color: \"#c0392b\", fontSize: 12 };\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}