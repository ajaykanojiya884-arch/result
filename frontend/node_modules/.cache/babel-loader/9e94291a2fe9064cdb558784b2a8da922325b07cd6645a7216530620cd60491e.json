{"ast":null,"code":"import _objectSpread from\"C:/Users/Pranay/Desktop/Result_Analysis/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState,useCallback}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import api from\"../../services/api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminEditTeacher(){const{id}=useParams();const navigate=useNavigate();const[form,setForm]=useState({name:\"\",userid:\"\",email:\"\",password:\"\",active:true});const[showPassword,setShowPassword]=useState(true);const loadTeacher=useCallback(async()=>{try{const res=await api.get(\"/admin/teachers\");const teacher=res.data.find(t=>t.teacher_id===parseInt(id));if(!teacher){alert(\"Teacher not found\");navigate(\"/admin\");return;}setForm({name:teacher.name,userid:teacher.userid,email:teacher.email||\"\",password:teacher.password||\"\",active:teacher.active});}catch(_unused){alert(\"Failed to load teacher\");}},[id,navigate]);useEffect(()=>{loadTeacher();},[loadTeacher]);const handleChange=e=>{const{name,value,type,checked}=e.target;setForm(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:type===\"checkbox\"?checked:value}));};const handleSubmit=async e=>{e.preventDefault();try{const payload=_objectSpread({},form);if(!payload.password)delete payload.password;await api.put(\"/admin/teachers/\".concat(id),payload);navigate(\"/admin\");}catch(_unused2){alert(\"Failed to update teacher\");}};return/*#__PURE__*/_jsx(\"div\",{style:{background:\"#f4f7fc\",minHeight:\"100vh\",padding:\"30px\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#fff\",maxWidth:\"650px\",margin:\"0 auto\",padding:\"30px\",borderRadius:\"12px\",boxShadow:\"0 4px 12px rgba(0,0,0,0.08)\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/admin\"),style:{marginBottom:\"15px\",padding:\"8px 14px\",background:\"#eee\",border:\"1px solid #ccc\",borderRadius:\"6px\",cursor:\"pointer\"},children:\"\\u2B05  GO Back\"}),/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:\"center\",marginBottom:25,background:\"#0066ff\"},children:\"Edit Teacher\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"name\",value:form.name,onChange:handleChange,required:true,placeholder:\"NAME\",style:input}),/*#__PURE__*/_jsx(\"label\",{children:\"User ID\"}),/*#__PURE__*/_jsx(\"input\",{name:\"userid\",value:form.userid,onChange:handleChange,required:true,placeholder:\"USER ID\",style:input}),/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",value:form.email,onChange:handleChange,placeholder:\"Email\",style:input}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{style:{position:\"relative\"},children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?\"text\":\"password\"// visible on load\n,name:\"password\",value:form.password,onChange:handleChange,required:true,placeholder:\"password\",style:_objectSpread(_objectSpread({},input),{},{paddingRight:20})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowPassword(s=>!s),style:showPwdBtn,children:showPassword?\"Hide\":\"Show\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:5,color:\"#666\",marginTop:6,marginBottom:6}}),/*#__PURE__*/_jsxs(\"label\",{style:{marginTop:8},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"active\",checked:form.active,onChange:handleChange,style:{marginRight:6}}),\"Active\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:primaryBtn,children:\"Save Changes\"})]})]})});}const input={width:\"100%\",padding:\"10px\",border:\"1px solid #ccc\",borderRadius:\"6px\",marginBottom:\"15px\"};const primaryBtn={width:\"100%\",padding:\"12px\",background:\"#0066ff\",color:\"#fff\",border:\"none\",borderRadius:\"8px\",cursor:\"pointer\",marginTop:\"15px\"};const showPwdBtn={position:\"absolute\",right:10,top:\"50%\",transform:\"translateY(-50%)\",background:\"none\",border:\"none\",cursor:\"pointer\",color:\"#0066ff\"};","map":{"version":3,"names":["React","useEffect","useState","useCallback","useNavigate","useParams","api","jsx","_jsx","jsxs","_jsxs","AdminEditTeacher","id","navigate","form","setForm","name","userid","email","password","active","showPassword","setShowPassword","loadTeacher","res","get","teacher","data","find","t","teacher_id","parseInt","alert","_unused","handleChange","e","value","type","checked","target","prev","_objectSpread","handleSubmit","preventDefault","payload","put","concat","_unused2","style","background","minHeight","padding","children","maxWidth","margin","borderRadius","boxShadow","onClick","marginBottom","border","cursor","textAlign","onSubmit","onChange","required","placeholder","input","position","paddingRight","s","showPwdBtn","fontSize","color","marginTop","marginRight","primaryBtn","width","right","top","transform"],"sources":["C:/Users/Pranay/Desktop/Result_Analysis/frontend/src/pages/Admin/AdminEditTeacher.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport api from \"../../services/api\";\r\n\r\nexport default function AdminEditTeacher() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const [form, setForm] = useState({\r\n    name: \"\",\r\n    userid: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    active: true,\r\n  });\r\n  const [showPassword, setShowPassword] = useState(true);\r\n\r\n  const loadTeacher = useCallback(async () => {\r\n    try {\r\n      const res = await api.get(\"/admin/teachers\");\r\n      const teacher = res.data.find((t) => t.teacher_id === parseInt(id));\r\n\r\n      if (!teacher) {\r\n        alert(\"Teacher not found\");\r\n        navigate(\"/admin\");\r\n        return;\r\n      }\r\n\r\n      setForm({\r\n        name: teacher.name,\r\n        userid: teacher.userid,\r\n        email: teacher.email || \"\",\r\n        password: teacher.password || \"\",\r\n        active: teacher.active,\r\n      });\r\n    } catch {\r\n      alert(\"Failed to load teacher\");\r\n    }\r\n  }, [id, navigate]);\r\n\r\n  useEffect(() => {\r\n    loadTeacher();\r\n  }, [loadTeacher]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setForm((prev) => ({\r\n      ...prev,\r\n      [name]: type === \"checkbox\" ? checked : value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const payload = { ...form };\r\n      if (!payload.password) delete payload.password;\r\n      await api.put(`/admin/teachers/${id}`, payload);\r\n      navigate(\"/admin\");\r\n    } catch {\r\n      alert(\"Failed to update teacher\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ background: \"#f4f7fc\", minHeight: \"100vh\", padding: \"30px\" }}>\r\n      <div\r\n        style={{\r\n          background: \"#fff\",\r\n          maxWidth: \"650px\",\r\n          margin: \"0 auto\",\r\n          padding: \"30px\",\r\n          borderRadius: \"12px\",\r\n          boxShadow: \"0 4px 12px rgba(0,0,0,0.08)\",\r\n        }}\r\n      >\r\n        <button\r\n          onClick={() => navigate(\"/admin\")}\r\n          style={{\r\n            marginBottom: \"15px\",\r\n            padding: \"8px 14px\",\r\n            background: \"#eee\",\r\n            border: \"1px solid #ccc\",\r\n            borderRadius: \"6px\",\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          â¬…  GO Back\r\n        </button>\r\n\r\n        <h2 style={{ textAlign: \"center\", marginBottom: 25, background:\"#0066ff\" }}>Edit Teacher</h2>\r\n\r\n        <form onSubmit={handleSubmit}>\r\n          <label>Full Name</label>\r\n          <input\r\n            name=\"name\"\r\n            value={form.name}\r\n            onChange={handleChange}\r\n            required\r\n            placeholder=\"NAME\"\r\n            style={input}\r\n          />\r\n\r\n          <label>User ID</label>\r\n          <input\r\n            name=\"userid\"\r\n            value={form.userid}\r\n            onChange={handleChange}\r\n            required\r\n            placeholder=\"USER ID\"\r\n            style={input}\r\n          />\r\n\r\n          <label>Email</label>\r\n          <input\r\n            name=\"email\"\r\n            value={form.email}\r\n            onChange={handleChange}\r\n            placeholder=\"Email\"\r\n            style={input}\r\n          />\r\n\r\n          <label>Password</label>\r\n<div style={{ position: \"relative\" }}>\r\n  <input\r\n    type={showPassword ? \"text\" : \"password\"}   // visible on load\r\n    name=\"password\"\r\n    value={form.password}\r\n    onChange={handleChange} required\r\n    placeholder=\"password\"\r\n    style={{ ...input, paddingRight: 20 }}\r\n  />\r\n\r\n  <button\r\n    type=\"button\"\r\n    onClick={() => setShowPassword((s) => !s)}\r\n    style={showPwdBtn}\r\n  >\r\n    {showPassword ? \"Hide\" : \"Show\"}\r\n  </button>\r\n</div>\r\n\r\n<div style={{ fontSize: 5, color: \"#666\", marginTop: 6, marginBottom: 6 }}>\r\n</div>\r\n\r\n          <label style={{ marginTop:8  }}>\r\n            <input\r\n              type=\"checkbox\"\r\n              name=\"active\"\r\n              checked={form.active}\r\n              onChange={handleChange}\r\n              style={{ marginRight: 6 }}\r\n            />\r\n            Active\r\n          </label>\r\n\r\n          <button type=\"submit\" style={primaryBtn}>\r\n            Save Changes\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst input = {\r\n  width: \"100%\",\r\n  padding: \"10px\",\r\n  border: \"1px solid #ccc\",\r\n  borderRadius: \"6px\",\r\n  marginBottom: \"15px\",\r\n};\r\n\r\nconst primaryBtn = {\r\n  width: \"100%\",\r\n  padding: \"12px\",\r\n  background: \"#0066ff\",\r\n  color: \"#fff\",\r\n  border: \"none\",\r\n  borderRadius: \"8px\",\r\n  cursor: \"pointer\",\r\n  marginTop: \"15px\",\r\n};\r\n\r\nconst showPwdBtn = {\r\n  position: \"absolute\",\r\n  right: 10,\r\n  top: \"50%\",\r\n  transform: \"translateY(-50%)\",\r\n  background: \"none\",\r\n  border: \"none\",\r\n  cursor: \"pointer\",\r\n  color: \"#0066ff\",\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}