{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pranay\\\\Desktop\\\\Result_Analysis\\\\frontend\\\\src\\\\pages\\\\Teacher\\\\TeacherDashboard.jsx\",\n  _s = $RefreshSig$();\n// src/pages/Teacher/TeacherDashboard.jsx\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../../context/AuthContext\";\nimport api from \"../../services/api\";\nimport Sidebar from \"../../components/Layout/Sidebar\";\nimport Card from \"../../components/UI/Card\";\nimport Input from \"../../components/UI/Input\";\nimport Button from \"../../components/UI/Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TeacherDashboard() {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n\n  // Logic for impersonation handling\n  useEffect(() => {\n    try {\n      const params = new URLSearchParams(window.location.search);\n      const token = params.get(\"impersonate_token\");\n      if (token) {\n        sessionStorage.setItem(\"impersonateToken\", token);\n        const teacherId = params.get(\"teacher_id\");\n        if (teacherId) sessionStorage.setItem(\"impersonateTeacherId\", teacherId);\n        const teacherName = params.get(\"teacher_name\");\n        if (teacherName) sessionStorage.setItem(\"impersonateTeacherName\", teacherName);\n        const adminBackupToken = params.get(\"admin_backup_token\");\n        const adminBackupUser = params.get(\"admin_backup_user\");\n        const adminReturnUrl = params.get(\"admin_return_url\");\n        if (adminBackupToken) sessionStorage.setItem(\"adminBackupAuthToken\", adminBackupToken);\n        if (adminBackupUser) sessionStorage.setItem(\"adminBackupUser\", adminBackupUser);\n        if (adminReturnUrl) sessionStorage.setItem(\"adminReturnUrl\", adminReturnUrl);\n        params.delete(\"impersonate_token\");\n        params.delete(\"teacher_id\");\n        params.delete(\"teacher_name\");\n        params.delete(\"admin_backup_token\");\n        params.delete(\"admin_backup_user\");\n        params.delete(\"admin_return_url\");\n        const newUrl = window.location.pathname + (params.toString() ? `?${params.toString()}` : \"\");\n        window.history.replaceState({}, document.title, newUrl);\n      }\n    } catch (err) {}\n  }, []);\n  const impersonatedName = sessionStorage.getItem(\"impersonateTeacherName\");\n  const isImpersonating = Boolean(sessionStorage.getItem(\"impersonateToken\"));\n  const [oldPassword, setOldPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [changing, setChanging] = useState(false);\n  const [changeMsg, setChangeMsg] = useState(null);\n  function backToAdmin() {\n    try {\n      const adminToken = sessionStorage.getItem(\"adminBackupAuthToken\");\n      const adminUser = sessionStorage.getItem(\"adminBackupUser\");\n      if (adminToken) localStorage.setItem(\"authToken\", adminToken);\n      if (adminUser) localStorage.setItem(\"user\", adminUser);\n    } catch (e) {}\n    let returnUrl = sessionStorage.getItem(\"adminReturnUrl\") || \"/admin/teachers\";\n    try {\n      sessionStorage.removeItem(\"impersonateToken\");\n      sessionStorage.removeItem(\"impersonateTeacherId\");\n      sessionStorage.removeItem(\"impersonateTeacherName\");\n      sessionStorage.removeItem(\"adminBackupAuthToken\");\n      sessionStorage.removeItem(\"adminBackupUser\");\n      sessionStorage.removeItem(\"adminReturnUrl\");\n    } catch (e) {}\n    if (!/^https?:\\/\\//i.test(returnUrl)) {\n      returnUrl = window.location.origin + returnUrl;\n    }\n    window.location.href = returnUrl;\n  }\n  const handleChangePassword = async () => {\n    try {\n      var _res$data;\n      setChanging(true);\n      setChangeMsg(null);\n      const res = await api.post('/teacher/change-password', {\n        old_password: oldPassword,\n        new_password: newPassword\n      });\n      setChangeMsg({\n        ok: true,\n        text: ((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.message) || 'Password updated'\n      });\n      setOldPassword('');\n      setNewPassword('');\n    } catch (err) {\n      setChangeMsg({\n        ok: false,\n        text: err.message || 'Failed to change password'\n      });\n    } finally {\n      setChanging(false);\n    }\n  };\n\n  // Construct dynamic menu\n  const menu = [];\n  if (user !== null && user !== void 0 && user.allocations) {\n    const allocs = user.allocations || [];\n    const hasMarks = allocs.some(a => (a.subject_eval_type || \"MARKS\") === \"MARKS\");\n    const hasPE = allocs.some(a => (a.subject_eval_type || \"MARKS\") === \"GRADE\" && a.subject_code === \"PE\");\n    const hasEVS = allocs.some(a => (a.subject_eval_type || \"MARKS\") === \"GRADE\" && a.subject_code === \"EVS\");\n    if (hasMarks) {\n      menu.push({\n        label: 'Add Marks',\n        to: '/teacher/add-marks'\n      });\n    }\n    if (hasPE) {\n      menu.push({\n        label: 'PE Grade Entry',\n        to: '/teacher/pe-grade'\n      });\n    }\n    if (hasEVS) {\n      menu.push({\n        label: 'EVS Grade Entry',\n        to: '/teacher/evs-grade'\n      });\n    }\n    menu.push({\n      label: 'View Results',\n      to: '/teacher/subject-result'\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-container\",\n    style: {\n      paddingLeft: '340px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      links: menu\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"animate-fade-in\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginBottom: '2rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Teacher Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), isImpersonating && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"danger\",\n          onClick: backToAdmin,\n          children: \"Back to Admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 14\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), isImpersonating && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '1.5rem',\n          padding: '1rem',\n          background: 'rgba(239, 68, 68, 0.1)',\n          border: '1px solid #ef4444',\n          borderRadius: 'var(--radius-sm)',\n          color: '#ef4444'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Impersonating:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this), \" \", impersonatedName || (user === null || user === void 0 ? void 0 : user.name)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\n          gap: '2rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginBottom: '1rem',\n              color: 'var(--accent-primary)'\n            },\n            children: [\"Welcome, \", (user === null || user === void 0 ? void 0 : user.name) || (user === null || user === void 0 ? void 0 : user.userid)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: 'var(--text-secondary)'\n            },\n            children: \"Use the sidebar to manage marks and grades for your allocated subjects.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginBottom: '1.5rem'\n            },\n            children: \"Change Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '0.5rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              type: \"password\",\n              placeholder: \"Old password\",\n              value: oldPassword,\n              onChange: e => setOldPassword(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              type: \"password\",\n              placeholder: \"New password\",\n              value: newPassword,\n              onChange: e => setNewPassword(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '1rem',\n                marginTop: '1rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleChangePassword,\n                disabled: changing,\n                children: changing ? 'Saving...' : 'Update Password'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"secondary\",\n                onClick: () => {\n                  setOldPassword('');\n                  setNewPassword('');\n                  setChangeMsg(null);\n                },\n                children: \"Reset\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), changeMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '1rem',\n                color: changeMsg.ok ? '#4ade80' : '#ef4444',\n                fontWeight: '500'\n              },\n              children: changeMsg.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 5\n  }, this);\n}\n_s(TeacherDashboard, \"e8iPxbUUqaFBRT/sHZHOCbQqbDI=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = TeacherDashboard;\nvar _c;\n$RefreshReg$(_c, \"TeacherDashboard\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useAuth","api","Sidebar","Card","Input","Button","jsxDEV","_jsxDEV","TeacherDashboard","_s","user","navigate","params","URLSearchParams","window","location","search","token","get","sessionStorage","setItem","teacherId","teacherName","adminBackupToken","adminBackupUser","adminReturnUrl","delete","newUrl","pathname","toString","history","replaceState","document","title","err","impersonatedName","getItem","isImpersonating","Boolean","oldPassword","setOldPassword","newPassword","setNewPassword","changing","setChanging","changeMsg","setChangeMsg","backToAdmin","adminToken","adminUser","localStorage","e","returnUrl","removeItem","test","origin","href","handleChangePassword","_res$data","res","post","old_password","new_password","ok","text","data","message","menu","allocations","allocs","hasMarks","some","a","subject_eval_type","hasPE","subject_code","hasEVS","push","label","to","className","style","paddingLeft","children","links","fileName","_jsxFileName","lineNumber","columnNumber","display","justifyContent","alignItems","marginBottom","variant","onClick","padding","background","border","borderRadius","color","name","gridTemplateColumns","gap","userid","flexDirection","type","placeholder","value","onChange","target","marginTop","disabled","fontWeight","_c","$RefreshReg$"],"sources":["C:/Users/Pranay/Desktop/Result_Analysis/frontend/src/pages/Teacher/TeacherDashboard.jsx"],"sourcesContent":["// src/pages/Teacher/TeacherDashboard.jsx\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from \"../../context/AuthContext\";\r\nimport api from \"../../services/api\";\r\nimport Sidebar from \"../../components/Layout/Sidebar\";\r\nimport Card from \"../../components/UI/Card\";\r\nimport Input from \"../../components/UI/Input\";\r\nimport Button from \"../../components/UI/Button\";\r\n\r\nexport default function TeacherDashboard() {\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  // Logic for impersonation handling\r\n  useEffect(() => {\r\n    try {\r\n      const params = new URLSearchParams(window.location.search);\r\n      const token = params.get(\"impersonate_token\");\r\n      if (token) {\r\n        sessionStorage.setItem(\"impersonateToken\", token);\r\n\r\n        const teacherId = params.get(\"teacher_id\");\r\n        if (teacherId) sessionStorage.setItem(\"impersonateTeacherId\", teacherId);\r\n\r\n        const teacherName = params.get(\"teacher_name\");\r\n        if (teacherName) sessionStorage.setItem(\"impersonateTeacherName\", teacherName);\r\n\r\n        const adminBackupToken = params.get(\"admin_backup_token\");\r\n        const adminBackupUser = params.get(\"admin_backup_user\");\r\n        const adminReturnUrl = params.get(\"admin_return_url\");\r\n        if (adminBackupToken) sessionStorage.setItem(\"adminBackupAuthToken\", adminBackupToken);\r\n        if (adminBackupUser) sessionStorage.setItem(\"adminBackupUser\", adminBackupUser);\r\n        if (adminReturnUrl) sessionStorage.setItem(\"adminReturnUrl\", adminReturnUrl);\r\n\r\n        params.delete(\"impersonate_token\");\r\n        params.delete(\"teacher_id\");\r\n        params.delete(\"teacher_name\");\r\n        params.delete(\"admin_backup_token\");\r\n        params.delete(\"admin_backup_user\");\r\n        params.delete(\"admin_return_url\");\r\n\r\n        const newUrl =\r\n          window.location.pathname +\r\n          (params.toString() ? `?${params.toString()}` : \"\");\r\n        window.history.replaceState({}, document.title, newUrl);\r\n      }\r\n    } catch (err) {}\r\n  }, []);\r\n\r\n  const impersonatedName = sessionStorage.getItem(\"impersonateTeacherName\");\r\n  const isImpersonating = Boolean(sessionStorage.getItem(\"impersonateToken\"));\r\n  const [oldPassword, setOldPassword] = useState(\"\");\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [changing, setChanging] = useState(false);\r\n  const [changeMsg, setChangeMsg] = useState(null);\r\n\r\n  function backToAdmin() {\r\n    try {\r\n      const adminToken = sessionStorage.getItem(\"adminBackupAuthToken\");\r\n      const adminUser = sessionStorage.getItem(\"adminBackupUser\");\r\n      if (adminToken) localStorage.setItem(\"authToken\", adminToken);\r\n      if (adminUser) localStorage.setItem(\"user\", adminUser);\r\n    } catch (e) {}\r\n\r\n    let returnUrl = sessionStorage.getItem(\"adminReturnUrl\") || \"/admin/teachers\";\r\n\r\n    try {\r\n      sessionStorage.removeItem(\"impersonateToken\");\r\n      sessionStorage.removeItem(\"impersonateTeacherId\");\r\n      sessionStorage.removeItem(\"impersonateTeacherName\");\r\n      sessionStorage.removeItem(\"adminBackupAuthToken\");\r\n      sessionStorage.removeItem(\"adminBackupUser\");\r\n      sessionStorage.removeItem(\"adminReturnUrl\");\r\n    } catch (e) {}\r\n\r\n    if (!/^https?:\\/\\//i.test(returnUrl)) {\r\n      returnUrl = window.location.origin + returnUrl;\r\n    }\r\n\r\n    window.location.href = returnUrl;\r\n  }\r\n\r\n  const handleChangePassword = async () => {\r\n    try {\r\n      setChanging(true);\r\n      setChangeMsg(null);\r\n      const res = await api.post('/teacher/change-password', {\r\n        old_password: oldPassword,\r\n        new_password: newPassword\r\n      });\r\n      setChangeMsg({ok:true, text: res.data?.message || 'Password updated'});\r\n      setOldPassword(''); setNewPassword('');\r\n    } catch (err) {\r\n      setChangeMsg({ok:false, text: err.message || 'Failed to change password'});\r\n    } finally {\r\n      setChanging(false);\r\n    }\r\n  };\r\n\r\n  // Construct dynamic menu\r\n  const menu = [];\r\n  if (user?.allocations) {\r\n    const allocs = user.allocations || [];\r\n    const hasMarks = allocs.some((a) => (a.subject_eval_type || \"MARKS\") === \"MARKS\");\r\n    const hasPE = allocs.some((a) => (a.subject_eval_type || \"MARKS\") === \"GRADE\" && a.subject_code === \"PE\");\r\n    const hasEVS = allocs.some((a) => (a.subject_eval_type || \"MARKS\") === \"GRADE\" && a.subject_code === \"EVS\");\r\n\r\n    if (hasMarks) {\r\n      menu.push({ label: 'Add Marks', to: '/teacher/add-marks' });\r\n    }\r\n    if (hasPE) {\r\n      menu.push({ label: 'PE Grade Entry', to: '/teacher/pe-grade' });\r\n    }\r\n    if (hasEVS) {\r\n      menu.push({ label: 'EVS Grade Entry', to: '/teacher/evs-grade' });\r\n    }\r\n    menu.push({ label: 'View Results', to: '/teacher/subject-result' });\r\n  }\r\n\r\n  return (\r\n    <div className=\"page-container\" style={{ paddingLeft: '340px' }}>\r\n      <Sidebar links={menu} />\r\n      \r\n      <main className=\"animate-fade-in\">\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '2rem' }}>\r\n          <h1>Teacher Dashboard</h1>\r\n          {isImpersonating && (\r\n             <Button variant=\"danger\" onClick={backToAdmin}>\r\n               Back to Admin\r\n             </Button>\r\n          )}\r\n        </div>\r\n\r\n        {isImpersonating && (\r\n          <div style={{ \r\n            marginBottom: '1.5rem', \r\n            padding: '1rem', \r\n            background: 'rgba(239, 68, 68, 0.1)', \r\n            border: '1px solid #ef4444', \r\n            borderRadius: 'var(--radius-sm)',\r\n            color: '#ef4444'\r\n          }}>\r\n            <strong>Impersonating:</strong> {impersonatedName || user?.name}\r\n          </div>\r\n        )}\r\n\r\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '2rem' }}>\r\n          {/* Welcome Card */}\r\n          <Card>\r\n            <h3 style={{ marginBottom: '1rem', color: 'var(--accent-primary)' }}>Welcome, {user?.name || user?.userid}</h3>\r\n            <p style={{ color: 'var(--text-secondary)' }}>\r\n              Use the sidebar to manage marks and grades for your allocated subjects.\r\n            </p>\r\n          </Card>\r\n\r\n          {/* Change Password Card */}\r\n          <Card>\r\n            <h3 style={{ marginBottom: '1.5rem' }}>Change Password</h3>\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\r\n              <Input\r\n                type=\"password\"\r\n                placeholder=\"Old password\"\r\n                value={oldPassword}\r\n                onChange={(e) => setOldPassword(e.target.value)}\r\n              />\r\n              <Input\r\n                type=\"password\"\r\n                placeholder=\"New password\"\r\n                value={newPassword}\r\n                onChange={(e) => setNewPassword(e.target.value)}\r\n              />\r\n              \r\n              <div style={{ display: 'flex', gap: '1rem', marginTop: '1rem' }}>\r\n                <Button \r\n                  onClick={handleChangePassword} \r\n                  disabled={changing}\r\n                >\r\n                  {changing ? 'Saving...' : 'Update Password'}\r\n                </Button>\r\n                <Button \r\n                  variant=\"secondary\"\r\n                  onClick={() => { setOldPassword(''); setNewPassword(''); setChangeMsg(null); }}\r\n                >\r\n                  Reset\r\n                </Button>\r\n              </div>\r\n\r\n              {changeMsg && (\r\n                <div style={{ \r\n                  marginTop: '1rem', \r\n                  color: changeMsg.ok ? '#4ade80' : '#ef4444',\r\n                  fontWeight: '500'\r\n                }}>\r\n                  {changeMsg.text}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}