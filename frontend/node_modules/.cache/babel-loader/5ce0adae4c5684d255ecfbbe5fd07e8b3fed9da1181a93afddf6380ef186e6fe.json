{"ast":null,"code":"// src/routes.jsx\nimport React from\"react\";import{BrowserRouter,Routes,Route,Navigate}from\"react-router-dom\";import{useAuth}from\"./context/AuthContext\";import LoginPage from\"./pages/LoginPage\";// Admin pages\nimport AdminDashboard from\"./pages/Admin/AdminDashboard\";import AdminTeacherList from\"./pages/Admin/AdminTeacherList\";import AdminAddTeacher from\"./pages/Admin/AdminAddTeacher\";import AdminEditTeacher from\"./pages/Admin/AdminEditTeacher\";import AdminSubjectAllocation from\"./pages/Admin/AdminSubjectAllocation\";import AdminAddStudent from\"./pages/Admin/AdminAddStudent\";import AdminViewStudents from\"./pages/Admin/AdminViewStudents\";import AdminImportStudents from\"./pages/Admin/AdminImportStudents\";import AdminViewCompleteResult from\"./pages/Admin/ViewCompleteResult\";// Teacher pages\nimport TeacherDashboard from\"./pages/Teacher/TeacherDashboard\";import UpdateMarks from\"./pages/Teacher/UpdateMarks\";import ViewCompleteResult from\"./pages/Teacher/ViewCompleteResult\";import SubjectResult from\"./pages/Teacher/SubjectResult\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ProtectedRoute(_ref){let{children,requiredRole}=_ref;const{user}=useAuth();if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true});}// Allow ADMIN to access any route; otherwise require exact role match when provided\nif(requiredRole&&user.role!==requiredRole&&user.role!==\"ADMIN\"){return/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true});}return children;}export default function AppRoutes(){return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRole:\"ADMIN\",children:/*#__PURE__*/_jsx(AdminDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/teachers\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRole:\"ADMIN\",children:/*#__PURE__*/_jsx(AdminTeacherList,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/teachers/add\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRole:\"ADMIN\",children:/*#__PURE__*/_jsx(AdminAddTeacher,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/teachers/edit/:id\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRole:\"ADMIN\",children:/*#__PURE__*/_jsx(AdminEditTeacher,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/allocations\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRole:\"ADMIN\",children:/*#__PURE__*/_jsx(AdminSubjectAllocation,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/students/add\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRole:\"ADMIN\",children:/*#__PURE__*/_jsx(AdminAddStudent,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/students/import\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRole:\"ADMIN\",children:/*#__PURE__*/_jsx(AdminImportStudents,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/students\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRole:\"ADMIN\",children:/*#__PURE__*/_jsx(AdminViewStudents,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/results\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRole:\"ADMIN\",children:/*#__PURE__*/_jsx(AdminViewCompleteResult,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/teacher\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRole:\"TEACHER\",children:/*#__PURE__*/_jsx(TeacherDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/teacher/add-marks\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRole:\"TEACHER\",children:/*#__PURE__*/_jsx(UpdateMarks,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/teacher/subject-result\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRole:\"TEACHER\",children:/*#__PURE__*/_jsx(SubjectResult,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/teacher/view-complete-result\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRole:\"ADMIN\",children:/*#__PURE__*/_jsx(ViewCompleteResult,{})})})]})});}","map":{"version":3,"names":["React","BrowserRouter","Routes","Route","Navigate","useAuth","LoginPage","AdminDashboard","AdminTeacherList","AdminAddTeacher","AdminEditTeacher","AdminSubjectAllocation","AdminAddStudent","AdminViewStudents","AdminImportStudents","AdminViewCompleteResult","TeacherDashboard","UpdateMarks","ViewCompleteResult","SubjectResult","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","requiredRole","user","to","replace","role","AppRoutes","path","element"],"sources":["C:/Users/Pranay/Desktop/Result_Analysis/frontend/src/routes.jsx"],"sourcesContent":["// src/routes.jsx\r\nimport React from \"react\";\r\nimport { BrowserRouter, Routes, Route, Navigate } from \"react-router-dom\";\r\nimport { useAuth } from \"./context/AuthContext\";\r\n\r\nimport LoginPage from \"./pages/LoginPage\";\r\n\r\n// Admin pages\r\nimport AdminDashboard from \"./pages/Admin/AdminDashboard\";\r\nimport AdminTeacherList from \"./pages/Admin/AdminTeacherList\";\r\nimport AdminAddTeacher from \"./pages/Admin/AdminAddTeacher\";\r\nimport AdminEditTeacher from \"./pages/Admin/AdminEditTeacher\";\r\nimport AdminSubjectAllocation from \"./pages/Admin/AdminSubjectAllocation\";\r\nimport AdminAddStudent from \"./pages/Admin/AdminAddStudent\";\r\nimport AdminViewStudents from \"./pages/Admin/AdminViewStudents\";\r\nimport AdminImportStudents from \"./pages/Admin/AdminImportStudents\";\r\nimport AdminViewCompleteResult from \"./pages/Admin/ViewCompleteResult\";\r\n\r\n// Teacher pages\r\nimport TeacherDashboard from \"./pages/Teacher/TeacherDashboard\";\r\nimport UpdateMarks from \"./pages/Teacher/UpdateMarks\";\r\nimport ViewCompleteResult from \"./pages/Teacher/ViewCompleteResult\";\r\nimport SubjectResult from \"./pages/Teacher/SubjectResult\";\r\n\r\nfunction ProtectedRoute({ children, requiredRole }) {\r\n  const { user } = useAuth();\r\n\r\n  if (!user) {\r\n    return <Navigate to=\"/\" replace />;\r\n  }\r\n\r\n  // Allow ADMIN to access any route; otherwise require exact role match when provided\r\n  if (requiredRole && user.role !== requiredRole && user.role !== \"ADMIN\") {\r\n    return <Navigate to=\"/\" replace />;\r\n  }\r\n\r\n  return children;\r\n}\r\n\r\nexport default function AppRoutes() {\r\n  return (\r\n    <BrowserRouter>\r\n      <Routes>\r\n        <Route path=\"/\" element={<LoginPage />} />\r\n\r\n        {/* ---------------- ADMIN ---------------- */}\r\n        <Route\r\n          path=\"/admin\"\r\n          element={\r\n            <ProtectedRoute requiredRole=\"ADMIN\">\r\n              <AdminDashboard />\r\n            </ProtectedRoute>\r\n          }\r\n        />\r\n\r\n        <Route\r\n          path=\"/admin/teachers\"\r\n          element={\r\n            <ProtectedRoute requiredRole=\"ADMIN\">\r\n              <AdminTeacherList />\r\n            </ProtectedRoute>\r\n          }\r\n        />\r\n\r\n        <Route\r\n          path=\"/admin/teachers/add\"\r\n          element={\r\n            <ProtectedRoute requiredRole=\"ADMIN\">\r\n              <AdminAddTeacher />\r\n            </ProtectedRoute>\r\n          }\r\n        />\r\n\r\n        <Route\r\n          path=\"/admin/teachers/edit/:id\"\r\n          element={\r\n            <ProtectedRoute requiredRole=\"ADMIN\">\r\n              <AdminEditTeacher />\r\n            </ProtectedRoute>\r\n          }\r\n        />\r\n\r\n        <Route\r\n          path=\"/admin/allocations\"\r\n          element={\r\n            <ProtectedRoute requiredRole=\"ADMIN\">\r\n              <AdminSubjectAllocation />\r\n            </ProtectedRoute>\r\n          }\r\n        />\r\n\r\n        <Route\r\n          path=\"/admin/students/add\"\r\n          element={\r\n            <ProtectedRoute requiredRole=\"ADMIN\">\r\n              <AdminAddStudent />\r\n            </ProtectedRoute>\r\n          }\r\n        />\r\n\r\n        <Route\r\n          path=\"/admin/students/import\"\r\n          element={\r\n            <ProtectedRoute requiredRole=\"ADMIN\">\r\n              <AdminImportStudents />\r\n            </ProtectedRoute>\r\n          }\r\n        />\r\n\r\n        <Route\r\n          path=\"/admin/students\"\r\n          element={\r\n            <ProtectedRoute requiredRole=\"ADMIN\">\r\n              <AdminViewStudents />\r\n            </ProtectedRoute>\r\n          }\r\n        />\r\n\r\n        <Route\r\n          path=\"/admin/results\"\r\n          element={\r\n            <ProtectedRoute requiredRole=\"ADMIN\">\r\n              <AdminViewCompleteResult />\r\n            </ProtectedRoute>\r\n          }\r\n        />\r\n\r\n        \r\n\r\n        {/* ---------------- TEACHER ---------------- */}\r\n        <Route\r\n          path=\"/teacher\"\r\n          element={\r\n            <ProtectedRoute requiredRole=\"TEACHER\">\r\n              <TeacherDashboard />\r\n            </ProtectedRoute>\r\n          }\r\n        />\r\n\r\n        <Route\r\n          path=\"/teacher/add-marks\"\r\n          element={\r\n            <ProtectedRoute requiredRole=\"TEACHER\">\r\n              <UpdateMarks />\r\n            </ProtectedRoute>\r\n          }\r\n        />\r\n        <Route\r\n          path=\"/teacher/subject-result\"\r\n          element={\r\n            <ProtectedRoute requiredRole=\"TEACHER\">\r\n              <SubjectResult />\r\n            </ProtectedRoute>\r\n          }\r\n        />\r\n\r\n        <Route\r\n          path=\"/teacher/view-complete-result\"\r\n          element={\r\n            <ProtectedRoute requiredRole=\"ADMIN\">\r\n              <ViewCompleteResult />\r\n            </ProtectedRoute>\r\n          }\r\n        />\r\n      </Routes>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}