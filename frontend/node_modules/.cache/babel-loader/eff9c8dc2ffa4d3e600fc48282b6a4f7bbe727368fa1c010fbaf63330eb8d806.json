{"ast":null,"code":"// src/pages/Admin/AdminViewCompleteResult.jsx\nimport React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import api from'../../services/api';import{useAuth}from'../../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminViewCompleteResult(){var _selectedRow$final_to,_selectedRow$percenta;useAuth();const navigate=useNavigate();const[divisions,setDivisions]=useState([]);const[division,setDivision]=useState('');const[rows,setRows]=useState([]);const[loading,setLoading]=useState(false);const[rollInput,setRollInput]=useState('');const[selectedStudent,setSelectedStudent]=useState(null);const[showDetails,setShowDetails]=useState(false);useEffect(()=>{async function loadDivs(){try{const res=await api.get('/admin/divisions');setDivisions(res.data||[]);if((res.data||[]).length>0)setDivision(res.data[0]);}catch(err){console.error(err);}}loadDivs();},[]);useEffect(()=>{if(!division)return;loadDivisionResults({division});},[division]);async function loadDivisionResults(){let{division:d,roll_no}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};setLoading(true);try{const params={};if(d)params.division=d;if(roll_no)params.roll_no=roll_no;const res=await api.get('/admin/results',{params});const data=res.data||[];if(Array.isArray(data)){setRows(data);setSelectedStudent(data[0]||null);}else if(data&&typeof data==='object'){setRows([data]);setSelectedStudent(data);}else{setRows([]);setSelectedStudent(null);}}catch(err){console.error(err);setRows([]);setSelectedStudent(null);}finally{setLoading(false);}}const selectedRow=rows.find(r=>r.roll_no===(selectedStudent===null||selectedStudent===void 0?void 0:selectedStudent.roll_no))||rows[0]||null;return/*#__PURE__*/_jsxs(\"div\",{style:{padding:20},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/admin'),style:{padding:\"8px 16px\",background:\"#1e88e5\",color:\"white\",border:\"none\",borderRadius:6,cursor:\"pointer\",fontWeight:600,marginBottom:15,boxShadow:\"0 2px 5px rgba(0,0,0,0.2)\"},children:\"\\u2190 Go Back\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,color:'#2c3e50'},children:\"College Results\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:12,color:'#666'},children:\"Official Marksheet\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'right'},children:/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700,color:'#2c3e50'},children:\"View Complete Result (Admin)\"})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:12,marginTop:20,marginBottom:20,alignItems:'flex-end'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:600},children:\"Division\"}),/*#__PURE__*/_jsxs(\"select\",{value:division,onChange:e=>setDivision(e.target.value),style:{minWidth:180,padding:\"8px\",borderRadius:6},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select division --\"}),divisions.map(d=>/*#__PURE__*/_jsx(\"option\",{value:d,children:d},d))]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:600},children:\"Roll No\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:12},children:[/*#__PURE__*/_jsx(\"input\",{value:rollInput,onChange:e=>setRollInput(e.target.value),placeholder:\"Enter roll number\",style:{minWidth:180,padding:\"8px\",border:\"1px solid #ccc\",borderRadius:6}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(!division)return alert('Please select a Division first');if(!rollInput)return alert('Enter Roll Number');loadDivisionResults({division,roll_no:rollInput});},style:{padding:\"8px 14px\",background:\"#1565c0\",color:\"white\",border:\"none\",borderRadius:6,cursor:\"pointer\"},children:\"Search\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:12},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:0},children:\"Admin Excel Export\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:13,color:'#666',marginTop:4},children:\"Admin Excel aggregates all marks: Roll, Name, Subject, Division, U1, U2, Term, Annual, Grace.\"})]}),loading&&/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600},children:\"Loading...\"}),!loading&&rows.length===0&&/*#__PURE__*/_jsx(\"div\",{style:{color:\"#666\"},children:\"No results available.\"}),!loading&&selectedRow&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:16,border:'1px solid #e6e9ee',padding:16,borderRadius:8,background:'#ffffff',boxShadow:\"0 2px 8px rgba(0,0,0,0.05)\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:0},children:[selectedRow.roll_no,\" - \",selectedRow.name]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#555'},children:[\"Division: \",/*#__PURE__*/_jsx(\"strong\",{children:selectedRow.division})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:20,fontWeight:800,color:\"#2c3e50\"},children:\"Final Total\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:30,fontWeight:900,color:\"#d35400\"},children:(_selectedRow$final_to=selectedRow.final_total)!==null&&_selectedRow$final_to!==void 0?_selectedRow$final_to:\"-\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:6},children:[\"Percentage:\",\" \",/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:800,color:\"#2980b9\"},children:(_selectedRow$percenta=selectedRow.percentage)!==null&&_selectedRow$percenta!==void 0?_selectedRow$percenta:\"-\"})]})]})]}),/*#__PURE__*/_jsxs(\"table\",{style:{width:\"100%\",borderCollapse:\"collapse\",marginTop:16},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{background:\"#f7faff\"},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:10,textAlign:\"left\"},children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:10,textAlign:\"right\"},children:\"Marks\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:10,textAlign:\"right\"},children:\"Grace\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:10,textAlign:\"right\"},children:\"Final\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:selectedRow.subjects.map(s=>{var _s$avg,_s$final;return/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:\"1px solid #eee\"},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:10},children:s.code}),/*#__PURE__*/_jsx(\"td\",{style:{padding:10,textAlign:\"right\"},children:s.grade?s.grade:(_s$avg=s.avg)!==null&&_s$avg!==void 0?_s$avg:\"-\"}),/*#__PURE__*/_jsx(\"td\",{style:{padding:10,textAlign:\"right\",color:s.grace?\"#c0392b\":\"#666\"},children:s.grade?\"-\":s.grace}),/*#__PURE__*/_jsx(\"td\",{style:{padding:10,textAlign:\"right\",fontWeight:700},children:s.grade?\"-\":(_s$final=s.final)!==null&&_s$final!==void 0?_s$final:\"-\"})]},s.code);})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:16,display:\"flex\",gap:10},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowDetails(d=>!d),style:{padding:\"8px 12px\",background:\"#546e7a\",color:\"white\",border:\"none\",borderRadius:6,cursor:\"pointer\"},children:[showDetails?\"Hide\":\"Show\",\" Detailed Marks\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{if(!division&&!selectedRow)return alert(\"No student selected\");try{const params={};if(division)params.division=division;if(selectedRow&&rows.length===1)params.roll_no=selectedRow.roll_no;const res=await api.get('/admin/excel/marksheet',{params,responseType:'blob'});const blob=new Blob([res.data],{type:'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'});const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;let filename=\"complete_results\";if(division)filename+=\"_\".concat(division);if(selectedRow&&rows.length===1)filename+=\"_roll_\".concat(selectedRow.roll_no);filename+=\".xlsx\";a.download=filename;a.click();window.URL.revokeObjectURL(url);}catch(err){alert(\"Excel download failed\");}},style:{padding:\"8px 12px\",background:\"#1b5e20\",color:\"white\",border:\"none\",borderRadius:6,cursor:\"pointer\"},children:\"Download Excel\"})]}),showDetails&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:16},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Detailed Marks\"}),/*#__PURE__*/_jsxs(\"table\",{style:{width:\"100%\",borderCollapse:\"collapse\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{background:\"#fafafa\"},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:8,textAlign:\"left\"},children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:8,textAlign:\"right\"},children:\"Unit1\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:8,textAlign:\"right\"},children:\"Unit2\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:8,textAlign:\"right\"},children:\"Term\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:8,textAlign:\"right\"},children:\"Annual\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:8,textAlign:\"right\"},children:\"Grace\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:8,textAlign:\"right\"},children:\"Total\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:selectedRow.subjects.map(s=>{var _s$mark$unit,_s$mark,_s$mark$unit2,_s$mark2,_s$mark$term,_s$mark3,_s$mark$annual,_s$mark4,_s$mark$grace,_s$mark5,_s$mark$tot,_s$mark6;return/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:\"1px solid #eee\"},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:8},children:s.code}),/*#__PURE__*/_jsx(\"td\",{style:{padding:8,textAlign:\"right\"},children:(_s$mark$unit=(_s$mark=s.mark)===null||_s$mark===void 0?void 0:_s$mark.unit1)!==null&&_s$mark$unit!==void 0?_s$mark$unit:\"-\"}),/*#__PURE__*/_jsx(\"td\",{style:{padding:8,textAlign:\"right\"},children:(_s$mark$unit2=(_s$mark2=s.mark)===null||_s$mark2===void 0?void 0:_s$mark2.unit2)!==null&&_s$mark$unit2!==void 0?_s$mark$unit2:\"-\"}),/*#__PURE__*/_jsx(\"td\",{style:{padding:8,textAlign:\"right\"},children:(_s$mark$term=(_s$mark3=s.mark)===null||_s$mark3===void 0?void 0:_s$mark3.term)!==null&&_s$mark$term!==void 0?_s$mark$term:\"-\"}),/*#__PURE__*/_jsx(\"td\",{style:{padding:8,textAlign:\"right\"},children:(_s$mark$annual=(_s$mark4=s.mark)===null||_s$mark4===void 0?void 0:_s$mark4.annual)!==null&&_s$mark$annual!==void 0?_s$mark$annual:\"-\"}),/*#__PURE__*/_jsx(\"td\",{style:{padding:8,textAlign:\"right\"},children:(_s$mark$grace=(_s$mark5=s.mark)===null||_s$mark5===void 0?void 0:_s$mark5.grace)!==null&&_s$mark$grace!==void 0?_s$mark$grace:\"-\"}),/*#__PURE__*/_jsx(\"td\",{style:{padding:8,textAlign:\"right\"},children:(_s$mark$tot=(_s$mark6=s.mark)===null||_s$mark6===void 0?void 0:_s$mark6.tot)!==null&&_s$mark$tot!==void 0?_s$mark$tot:\"-\"})]},\"detail-\".concat(s.code));})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",marginTop:16},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Grade: \"}),/*#__PURE__*/_jsx(\"span\",{style:{color:\"#27ae60\"},children:gradeFor(selectedRow.percentage)})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:900,color:selectedRow.percentage>=35?\"#27ae60\":\"#c0392b\"},children:selectedRow.percentage>=35?\"PASS\":\"FAIL\"})]})]}),!loading&&rows.length>1&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:16},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Division Students\"}),/*#__PURE__*/_jsxs(\"table\",{style:{width:\"100%\",borderCollapse:\"collapse\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{background:\"#f5f5f5\"},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:8},children:\"Roll\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:8},children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:8,textAlign:\"right\"},children:\"Final Total\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:8,textAlign:\"right\"},children:\"Percentage\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:rows.map(r=>{var _r$final_total,_r$percentage;return/*#__PURE__*/_jsxs(\"tr\",{onClick:()=>setSelectedStudent(r),style:{cursor:\"pointer\",borderBottom:\"1px solid #eee\"},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:8},children:r.roll_no}),/*#__PURE__*/_jsx(\"td\",{style:{padding:8},children:r.name}),/*#__PURE__*/_jsx(\"td\",{style:{padding:8,textAlign:\"right\"},children:(_r$final_total=r.final_total)!==null&&_r$final_total!==void 0?_r$final_total:\"-\"}),/*#__PURE__*/_jsx(\"td\",{style:{padding:8,textAlign:\"right\"},children:(_r$percentage=r.percentage)!==null&&_r$percentage!==void 0?_r$percentage:\"-\"})]},r.roll_no);})})]})]})]});}function gradeFor(p){if(p==null)return'-';const n=Number(p);if(Number.isNaN(n))return'-';if(n>=75)return'A+';if(n>=60)return'A';if(n>=50)return'B';if(n>=35)return'C';return'F';}","map":{"version":3,"names":["React","useEffect","useState","useNavigate","api","useAuth","jsx","_jsx","jsxs","_jsxs","AdminViewCompleteResult","_selectedRow$final_to","_selectedRow$percenta","navigate","divisions","setDivisions","division","setDivision","rows","setRows","loading","setLoading","rollInput","setRollInput","selectedStudent","setSelectedStudent","showDetails","setShowDetails","loadDivs","res","get","data","length","err","console","error","loadDivisionResults","d","roll_no","arguments","undefined","params","Array","isArray","selectedRow","find","r","style","padding","children","onClick","background","color","border","borderRadius","cursor","fontWeight","marginBottom","boxShadow","display","justifyContent","alignItems","margin","fontSize","textAlign","gap","marginTop","flexDirection","value","onChange","e","target","minWidth","map","placeholder","alert","name","final_total","percentage","width","borderCollapse","subjects","s","_s$avg","_s$final","borderBottom","code","grade","avg","grace","final","responseType","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","href","filename","concat","download","click","revokeObjectURL","_s$mark$unit","_s$mark","_s$mark$unit2","_s$mark2","_s$mark$term","_s$mark3","_s$mark$annual","_s$mark4","_s$mark$grace","_s$mark5","_s$mark$tot","_s$mark6","mark","unit1","unit2","term","annual","tot","gradeFor","_r$final_total","_r$percentage","p","n","Number","isNaN"],"sources":["C:/Users/Pranay/Desktop/Result_Analysis/frontend/src/pages/Admin/ViewCompleteResult.jsx"],"sourcesContent":["// src/pages/Admin/AdminViewCompleteResult.jsx\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport api from '../../services/api';\r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\nexport default function AdminViewCompleteResult() {\r\n  useAuth();\r\n  const navigate = useNavigate();\r\n  const [divisions, setDivisions] = useState([]);\r\n  const [division, setDivision] = useState('');\r\n  const [rows, setRows] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [rollInput, setRollInput] = useState('');\r\n  const [selectedStudent, setSelectedStudent] = useState(null);\r\n  const [showDetails, setShowDetails] = useState(false);\r\n\r\n  useEffect(() => {\r\n    async function loadDivs() {\r\n      try {\r\n        const res = await api.get('/admin/divisions');\r\n        setDivisions(res.data || []);\r\n        if ((res.data || []).length > 0) setDivision(res.data[0]);\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    }\r\n    loadDivs();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!division) return;\r\n    loadDivisionResults({ division });\r\n  }, [division]);\r\n\r\n  async function loadDivisionResults({ division: d, roll_no } = {}) {\r\n    setLoading(true);\r\n    try {\r\n      const params = {};\r\n      if (d) params.division = d;\r\n      if (roll_no) params.roll_no = roll_no;\r\n      const res = await api.get('/admin/results', { params });\r\n      const data = res.data || [];\r\n      if (Array.isArray(data)) {\r\n        setRows(data);\r\n        setSelectedStudent(data[0] || null);\r\n      } else if (data && typeof data === 'object') {\r\n        setRows([data]);\r\n        setSelectedStudent(data);\r\n      } else {\r\n        setRows([]);\r\n        setSelectedStudent(null);\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      setRows([]);\r\n      setSelectedStudent(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  const selectedRow =\r\n    rows.find((r) => r.roll_no === selectedStudent?.roll_no) ||\r\n    rows[0] ||\r\n    null;\r\n\r\n  return (\r\n    <div style={{ padding: 20 }}>\r\n\r\n      {/* ✅ GO BACK BUTTON */}\r\n      <button\r\n        onClick={() => navigate('/admin')}\r\n        style={{\r\n          padding: \"8px 16px\",\r\n          background: \"#1e88e5\",\r\n          color: \"white\",\r\n          border: \"none\",\r\n          borderRadius: 6,\r\n          cursor: \"pointer\",\r\n          fontWeight: 600,\r\n          marginBottom: 15,\r\n          boxShadow: \"0 2px 5px rgba(0,0,0,0.2)\"\r\n        }}\r\n      >\r\n        ← Go Back\r\n      </button>\r\n\r\n      {/* Page Header */}\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n        <div>\r\n          <h2 style={{ margin: 0, color: '#2c3e50' }}>College Results</h2>\r\n          <div style={{ fontSize: 12, color: '#666' }}>Official Marksheet</div>\r\n        </div>\r\n        <div style={{ textAlign: 'right' }}>\r\n          <div style={{ fontWeight: 700, color: '#2c3e50' }}>View Complete Result (Admin)</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters Row */}\r\n      <div style={{ display: 'flex', gap: 12, marginTop: 20, marginBottom: 20, alignItems: 'flex-end' }}>\r\n        \r\n        {/* Division */}\r\n        <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n          <label style={{ fontWeight: 600 }}>Division</label>\r\n          <select\r\n            value={division}\r\n            onChange={(e) => setDivision(e.target.value)}\r\n            style={{ minWidth: 180, padding: \"8px\", borderRadius: 6 }}\r\n          >\r\n            <option value=\"\">-- Select division --</option>\r\n            {divisions.map((d) => (\r\n              <option key={d} value={d}>{d}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        {/* Roll Search */}\r\n        <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n          <label style={{ fontWeight: 600 }}>Roll No</label>\r\n          <div style={{ display: 'flex', gap: 12 }}>\r\n            <input\r\n              value={rollInput}\r\n              onChange={(e) => setRollInput(e.target.value)}\r\n              placeholder=\"Enter roll number\"\r\n              style={{\r\n                minWidth: 180,\r\n                padding: \"8px\",\r\n                border: \"1px solid #ccc\",\r\n                borderRadius: 6,\r\n              }}\r\n            />\r\n            <button\r\n              onClick={() => {\r\n                if (!division) return alert('Please select a Division first');\r\n                if (!rollInput) return alert('Enter Roll Number');\r\n                loadDivisionResults({ division, roll_no: rollInput });\r\n              }}\r\n              style={{\r\n                padding: \"8px 14px\",\r\n                background: \"#1565c0\",\r\n                color: \"white\",\r\n                border: \"none\",\r\n                borderRadius: 6,\r\n                cursor: \"pointer\"\r\n              }}\r\n            >\r\n              Search\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Info Section */}\r\n      <div style={{ marginBottom: 12 }}>\r\n        <h4 style={{ margin: 0 }}>Admin Excel Export</h4>\r\n        <p style={{ fontSize: 13, color: '#666', marginTop: 4 }}>\r\n          Admin Excel aggregates all marks: Roll, Name, Subject, Division, U1, U2, Term, Annual, Grace.\r\n        </p>\r\n      </div>\r\n\r\n      {/* Loading */}\r\n      {loading && <div style={{ fontWeight: 600 }}>Loading...</div>}\r\n\r\n      {/* No Data */}\r\n      {!loading && rows.length === 0 && (\r\n        <div style={{ color: \"#666\" }}>No results available.</div>\r\n      )}\r\n\r\n      {/* Student Result Card */}\r\n      {!loading && selectedRow && (\r\n        <div style={{\r\n          marginTop: 16,\r\n          border: '1px solid #e6e9ee',\r\n          padding: 16,\r\n          borderRadius: 8,\r\n          background: '#ffffff',\r\n          boxShadow: \"0 2px 8px rgba(0,0,0,0.05)\"\r\n        }}>\r\n          \r\n          {/* Student Header */}\r\n          <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n            <div>\r\n              <h3 style={{ margin: 0 }}>{selectedRow.roll_no} - {selectedRow.name}</h3>\r\n              <div style={{ color: '#555' }}>\r\n                Division: <strong>{selectedRow.division}</strong>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ textAlign: \"right\" }}>\r\n              <div style={{ fontSize: 20, fontWeight: 800, color: \"#2c3e50\" }}>Final Total</div>\r\n              <div style={{ fontSize: 30, fontWeight: 900, color: \"#d35400\" }}>\r\n                {selectedRow.final_total ?? \"-\"}\r\n              </div>\r\n              <div style={{ marginTop: 6 }}>\r\n                Percentage:{\" \"}\r\n                <span style={{ fontWeight: 800, color: \"#2980b9\" }}>\r\n                  {selectedRow.percentage ?? \"-\"}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Subject Table */}\r\n          <table style={{ width: \"100%\", borderCollapse: \"collapse\", marginTop: 16 }}>\r\n            <thead>\r\n              <tr style={{ background: \"#f7faff\" }}>\r\n                <th style={{ padding: 10, textAlign: \"left\" }}>Subject</th>\r\n                <th style={{ padding: 10, textAlign: \"right\" }}>Marks</th>\r\n                <th style={{ padding: 10, textAlign: \"right\" }}>Grace</th>\r\n                <th style={{ padding: 10, textAlign: \"right\" }}>Final</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {selectedRow.subjects.map((s) => (\r\n                <tr key={s.code} style={{ borderBottom: \"1px solid #eee\" }}>\r\n                  <td style={{ padding: 10 }}>{s.code}</td>\r\n                  <td style={{ padding: 10, textAlign: \"right\" }}>\r\n                    {s.grade ? s.grade : s.avg ?? \"-\"}\r\n                  </td>\r\n                  <td style={{ padding: 10, textAlign: \"right\", color: s.grace ? \"#c0392b\" : \"#666\" }}>\r\n                    {s.grade ? \"-\" : s.grace}\r\n                  </td>\r\n                  <td style={{ padding: 10, textAlign: \"right\", fontWeight: 700 }}>\r\n                    {s.grade ? \"-\" : s.final ?? \"-\"}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n\r\n          {/* Buttons */}\r\n          <div style={{ marginTop: 16, display: \"flex\", gap: 10 }}>\r\n            <button\r\n              onClick={() => setShowDetails((d) => !d)}\r\n              style={{\r\n                padding: \"8px 12px\",\r\n                background: \"#546e7a\",\r\n                color: \"white\",\r\n                border: \"none\",\r\n                borderRadius: 6,\r\n                cursor: \"pointer\",\r\n              }}\r\n            >\r\n              {showDetails ? \"Hide\" : \"Show\"} Detailed Marks\r\n            </button>\r\n\r\n            {/* Excel Button */}\r\n            <button\r\n              onClick={async () => {\r\n                if (!division && !selectedRow) return alert(\"No student selected\");\r\n                try {\r\n                  const params = {};\r\n                  if (division) params.division = division;\r\n                  if (selectedRow && rows.length === 1)\r\n                    params.roll_no = selectedRow.roll_no;\r\n\r\n                  const res = await api.get('/admin/excel/marksheet', {\r\n                    params,\r\n                    responseType: 'blob',\r\n                  });\r\n\r\n                  const blob = new Blob([res.data], {\r\n                    type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n                  });\r\n                  const url = window.URL.createObjectURL(blob);\r\n                  const a = document.createElement('a');\r\n                  a.href = url;\r\n\r\n                  let filename = \"complete_results\";\r\n                  if (division) filename += `_${division}`;\r\n                  if (selectedRow && rows.length === 1)\r\n                    filename += `_roll_${selectedRow.roll_no}`;\r\n                  filename += \".xlsx\";\r\n\r\n                  a.download = filename;\r\n                  a.click();\r\n                  window.URL.revokeObjectURL(url);\r\n                } catch (err) {\r\n                  alert(\"Excel download failed\");\r\n                }\r\n              }}\r\n              style={{\r\n                padding: \"8px 12px\",\r\n                background: \"#1b5e20\",\r\n                color: \"white\",\r\n                border: \"none\",\r\n                borderRadius: 6,\r\n                cursor: \"pointer\",\r\n              }}\r\n            >\r\n              Download Excel\r\n            </button>\r\n          </div>\r\n\r\n          {/* Detailed Marks */}\r\n          {showDetails && (\r\n            <div style={{ marginTop: 16 }}>\r\n              <h4>Detailed Marks</h4>\r\n\r\n              <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\r\n                <thead>\r\n                  <tr style={{ background: \"#fafafa\" }}>\r\n                    <th style={{ padding: 8, textAlign: \"left\" }}>Subject</th>\r\n                    <th style={{ padding: 8, textAlign: \"right\" }}>Unit1</th>\r\n                    <th style={{ padding: 8, textAlign: \"right\" }}>Unit2</th>\r\n                    <th style={{ padding: 8, textAlign: \"right\" }}>Term</th>\r\n                    <th style={{ padding: 8, textAlign: \"right\" }}>Annual</th>\r\n                    <th style={{ padding: 8, textAlign: \"right\" }}>Grace</th>\r\n                    <th style={{ padding: 8, textAlign: \"right\" }}>Total</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {selectedRow.subjects.map((s) => (\r\n                    <tr key={`detail-${s.code}`} style={{ borderBottom: \"1px solid #eee\" }}>\r\n                      <td style={{ padding: 8 }}>{s.code}</td>\r\n                      <td style={{ padding: 8, textAlign: \"right\" }}>{s.mark?.unit1 ?? \"-\"}</td>\r\n                      <td style={{ padding: 8, textAlign: \"right\" }}>{s.mark?.unit2 ?? \"-\"}</td>\r\n                      <td style={{ padding: 8, textAlign: \"right\" }}>{s.mark?.term ?? \"-\"}</td>\r\n                      <td style={{ padding: 8, textAlign: \"right\" }}>{s.mark?.annual ?? \"-\"}</td>\r\n                      <td style={{ padding: 8, textAlign: \"right\" }}>{s.mark?.grace ?? \"-\"}</td>\r\n                      <td style={{ padding: 8, textAlign: \"right\" }}>{s.mark?.tot ?? \"-\"}</td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n\r\n          {/* Pass/Fail Section */}\r\n          <div style={{ display: \"flex\", justifyContent: \"space-between\", marginTop: 16 }}>\r\n            <div>\r\n              <strong>Grade: </strong>\r\n              <span style={{ color: \"#27ae60\" }}>\r\n                {gradeFor(selectedRow.percentage)}\r\n              </span>\r\n            </div>\r\n\r\n            <div style={{ fontWeight: 900, color: selectedRow.percentage >= 35 ? \"#27ae60\" : \"#c0392b\" }}>\r\n              {selectedRow.percentage >= 35 ? \"PASS\" : \"FAIL\"}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Division Table */}\r\n      {!loading && rows.length > 1 && (\r\n        <div style={{ marginTop: 16 }}>\r\n          <h4>Division Students</h4>\r\n          <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\r\n            <thead>\r\n              <tr style={{ background: \"#f5f5f5\" }}>\r\n                <th style={{ padding: 8 }}>Roll</th>\r\n                <th style={{ padding: 8 }}>Name</th>\r\n                <th style={{ padding: 8, textAlign: \"right\" }}>Final Total</th>\r\n                <th style={{ padding: 8, textAlign: \"right\" }}>Percentage</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {rows.map((r) => (\r\n                <tr\r\n                  key={r.roll_no}\r\n                  onClick={() => setSelectedStudent(r)}\r\n                  style={{ cursor: \"pointer\", borderBottom: \"1px solid #eee\" }}\r\n                >\r\n                  <td style={{ padding: 8 }}>{r.roll_no}</td>\r\n                  <td style={{ padding: 8 }}>{r.name}</td>\r\n                  <td style={{ padding: 8, textAlign: \"right\" }}>{r.final_total ?? \"-\"}</td>\r\n                  <td style={{ padding: 8, textAlign: \"right\" }}>{r.percentage ?? \"-\"}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction gradeFor(p) {\r\n  if (p == null) return '-';\r\n  const n = Number(p);\r\n  if (Number.isNaN(n)) return '-';\r\n  if (n >= 75) return 'A+';\r\n  if (n >= 60) return 'A';\r\n  if (n >= 50) return 'B';\r\n  if (n >= 35) return 'C';\r\n  return 'F';\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}