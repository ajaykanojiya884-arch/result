{"ast":null,"code":"// src/pages/Admin/AdminViewCompleteResult.jsx\n/* eslint-disable no-console */import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import api from'../../services/api';import{useAuth}from'../../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminViewCompleteResult(){var _selectedRow$final_to,_selectedRow$percenta;useAuth();const navigate=useNavigate();const[divisions,setDivisions]=useState([]);const[division,setDivision]=useState('');const[rows,setRows]=useState([]);const[loading,setLoading]=useState(false);const[rollInput,setRollInput]=useState('');const[selectedStudent,setSelectedStudent]=useState(null);const[showDetails,setShowDetails]=useState(false);useEffect(()=>{async function loadDivs(){try{const res=await api.get('/admin/divisions');setDivisions(res.data||[]);if((res.data||[]).length>0)setDivision(res.data[0]);}catch(err){console.error(err);}}loadDivs();},[]);useEffect(()=>{if(!division)return;loadDivisionResults({division});},[division]);async function loadDivisionResults(){let{division:d,roll_no}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};setLoading(true);try{const params={};if(d)params.division=d;if(roll_no)params.roll_no=roll_no;const res=await api.get('/admin/results',{params});const data=res.data||[];if(Array.isArray(data)){// Sort by roll number numerically\ndata.sort((a,b)=>{const rA=parseInt(a.roll_no,10);const rB=parseInt(b.roll_no,10);if(!isNaN(rA)&&!isNaN(rB))return rA-rB;return a.roll_no.localeCompare(b.roll_no);});setRows(data);// Do NOT auto-select student\nsetSelectedStudent(null);}else if(data&&typeof data==='object'){setRows([data]);setSelectedStudent(data);}else{setRows([]);setSelectedStudent(null);}}catch(err){console.error(err);setRows([]);setSelectedStudent(null);}finally{setLoading(false);}}const selectedRow=rows.find(r=>r.roll_no===(selectedStudent===null||selectedStudent===void 0?void 0:selectedStudent.roll_no))||rows[0]||null;return/*#__PURE__*/_jsxs(\"div\",{style:{padding:20},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/admin'),style:{padding:\"8px 16px\",background:\"#1e88e5\",color:\"white\",border:\"none\",borderRadius:6,cursor:\"pointer\",fontWeight:600,marginBottom:15,boxShadow:\"0 2px 5px rgba(0,0,0,0.2)\"},children:\"\\u2190 Go Back\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,color:'#2c3e50'},children:\"College Results\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:12,color:'#666'},children:\"Official Marksheet\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700,color:'#2c3e50'},children:\"View Complete Result (Admin)\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(!division||!selectedRow)return alert(\"Select a student to print\");const url=\"/admin/print-result/\".concat(division,\"/\").concat(selectedRow.roll_no);window.open(url,'_blank');},style:{marginTop:8,marginLeft:10,padding:\"8px 12px\",background:\"#607d8b\",color:\"white\",border:\"none\",borderRadius:6,cursor:\"pointer\",fontSize:13},children:\"Print Statement\"}),division&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{window.open(\"/admin/batch-print/\".concat(division),'_blank');},style:{marginTop:8,marginLeft:10,padding:\"8px 12px\",background:\"#e65100\",color:\"white\",border:\"none\",borderRadius:6,cursor:\"pointer\",fontSize:13},children:\"Batch Print Division\"}),division&&/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{const response=await api.get(\"/admin/results/export-excel?division=\".concat(division),{responseType:'blob'});// Create a temporary URL for the blob\nconst url=window.URL.createObjectURL(new Blob([response.data]));const link=document.createElement('a');link.href=url;link.setAttribute('download',\"Results_Division_\".concat(division,\".xlsx\"));document.body.appendChild(link);link.click();link.parentNode.removeChild(link);window.URL.revokeObjectURL(url);}catch(err){console.error('Excel export failed:',err);alert('Failed to download Excel file. Please try again.');}},style:{marginTop:8,marginLeft:10,padding:\"8px 12px\",background:\"#27ae60\",color:\"white\",border:\"none\",borderRadius:6,cursor:\"pointer\",fontSize:13,fontWeight:600},children:\"\\uD83D\\uDCE5 Download Excel\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:12,marginTop:20,marginBottom:20,alignItems:'flex-end'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:600},children:\"Division\"}),/*#__PURE__*/_jsxs(\"select\",{value:division,onChange:e=>setDivision(e.target.value),style:{minWidth:180,padding:\"8px\",borderRadius:6},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select division --\"}),divisions.map(d=>/*#__PURE__*/_jsx(\"option\",{value:d,children:d},d))]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:600},children:\"Roll No\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:12},children:[/*#__PURE__*/_jsx(\"input\",{value:rollInput,onChange:e=>setRollInput(e.target.value),placeholder:\"Enter roll number\",style:{minWidth:180,padding:\"8px\",border:\"1px solid #ccc\",borderRadius:6}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(!division)return alert('Please select a Division first');if(!rollInput)return alert('Enter Roll Number');loadDivisionResults({division,roll_no:rollInput});},style:{padding:\"8px 14px\",background:\"#1565c0\",color:\"white\",border:\"none\",borderRadius:6,cursor:\"pointer\"},children:\"Search\"})]})]})]}),loading&&/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600},children:\"Loading...\"}),!loading&&rows.length===0&&/*#__PURE__*/_jsx(\"div\",{style:{color:\"#666\"},children:\"No results available.\"}),!loading&&selectedRow&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:16,border:'1px solid #e6e9ee',padding:16,borderRadius:8,background:'#ffffff',boxShadow:\"0 2px 8px rgba(0,0,0,0.05)\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{style:{margin:0},children:[selectedRow.roll_no,\" - \",selectedRow.name]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#555'},children:[\"Division: \",/*#__PURE__*/_jsx(\"strong\",{children:selectedRow.division})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:20,fontWeight:800,color:\"#2c3e50\"},children:\"Grand Total\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:30,fontWeight:900},children:(_selectedRow$final_to=selectedRow.final_total)!==null&&_selectedRow$final_to!==void 0?_selectedRow$final_to:\"-\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:6,fontSize:14},children:[\"Percentage:\",\" \",/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:800,color:\"#2980b9\"},children:[(_selectedRow$percenta=selectedRow.percentage)!==null&&_selectedRow$percenta!==void 0?_selectedRow$percenta:\"-\",\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:4,fontSize:12,color:\"#666\"},children:\"Max Marks: 600\"})]})]}),/*#__PURE__*/_jsxs(\"table\",{style:{width:\"100%\",borderCollapse:\"collapse\",marginTop:16},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{background:\"#f7faff\"},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:10,textAlign:\"left\"},children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:10,textAlign:\"right\"},children:\"Annual Marks\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:10,textAlign:\"right\"},children:\"Grace\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:10,textAlign:\"right\"},children:\"Final\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:selectedRow.subjects.map(s=>{var _s$avg,_s$grace,_s$final;const finalVal=s.final;const finalColor=typeof finalVal==='number'&&finalVal<35?'#c0392b':'#d35400';return/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:\"1px solid #eee\"},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:10},children:s.code}),/*#__PURE__*/_jsx(\"td\",{style:{padding:10,textAlign:\"right\",fontWeight:700},children:s.grade?s.grade:(_s$avg=s.avg)!==null&&_s$avg!==void 0?_s$avg:\"-\"}),/*#__PURE__*/_jsx(\"td\",{style:{padding:10,textAlign:\"right\"},children:s.grade?\"-\":(_s$grace=s.grace)!==null&&_s$grace!==void 0?_s$grace:0}),/*#__PURE__*/_jsx(\"td\",{style:{padding:10,textAlign:\"right\",fontWeight:700,color:finalColor},children:s.grade?\"-\":(_s$final=s.final)!==null&&_s$final!==void 0?_s$final:\"-\"})]},s.code);})})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:16,display:\"flex\",gap:10},children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowDetails(d=>!d),style:{padding:\"8px 12px\",background:\"#546e7a\",color:\"white\",border:\"none\",borderRadius:6,cursor:\"pointer\"},children:[showDetails?\"Hide\":\"Show\",\" Detailed Marks\"]})}),showDetails&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:16},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Detailed Marks Breakdown (Annual Marks = Internal + Final Exam)\"}),/*#__PURE__*/_jsxs(\"table\",{style:{width:\"100%\",borderCollapse:\"collapse\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{background:\"#fafafa\"},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:8,textAlign:\"left\"},children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:8,textAlign:\"right\"},children:\"Internal\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:8,textAlign:\"right\"},children:\"Final Exam\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:8,textAlign:\"right\"},children:\"Annual Total\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:selectedRow.subjects.map(s=>{var _s$mark$internal,_s$mark,_s$mark$annual,_s$mark2;const internal=(_s$mark$internal=(_s$mark=s.mark)===null||_s$mark===void 0?void 0:_s$mark.internal)!==null&&_s$mark$internal!==void 0?_s$mark$internal:0;const finalExam=(_s$mark$annual=(_s$mark2=s.mark)===null||_s$mark2===void 0?void 0:_s$mark2.annual)!==null&&_s$mark$annual!==void 0?_s$mark$annual:0;const annualTotal=internal+finalExam;return/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:\"1px solid #eee\"},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:8},children:s.code}),/*#__PURE__*/_jsx(\"td\",{style:{padding:8,textAlign:\"right\"},children:internal||\"-\"}),/*#__PURE__*/_jsx(\"td\",{style:{padding:8,textAlign:\"right\"},children:finalExam||\"-\"}),/*#__PURE__*/_jsx(\"td\",{style:{padding:8,textAlign:\"right\",fontWeight:700},children:annualTotal||\"-\"})]},\"detail-\".concat(s.code));})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",marginTop:16},children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Grade: \"})}),/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:900,color:selectedRow.percentage>=35?\"#27ae60\":\"#c0392b\"},children:/*#__PURE__*/_jsx(\"span\",{style:{color:\"#27ae60\"},children:selectedRow.overall_grade?selectedRow.overall_grade:gradeFor(selectedRow.percentage)})})]})]}),!loading&&rows.length>1&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:16},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Division Students\"}),/*#__PURE__*/_jsxs(\"table\",{style:{width:\"100%\",borderCollapse:\"collapse\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{background:\"#f5f5f5\"},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:8},children:\"Roll\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:8},children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:8,textAlign:\"right\"},children:\"Final Total\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:8,textAlign:\"right\"},children:\"Percentage\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:rows.map(r=>{var _r$final_total,_r$percentage;return/*#__PURE__*/_jsxs(\"tr\",{onClick:()=>setSelectedStudent(r),style:{cursor:\"pointer\",borderBottom:\"1px solid #eee\"},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:8},children:r.roll_no}),/*#__PURE__*/_jsx(\"td\",{style:{padding:8},children:r.name}),/*#__PURE__*/_jsx(\"td\",{style:{padding:8,textAlign:\"right\"},children:(_r$final_total=r.final_total)!==null&&_r$final_total!==void 0?_r$final_total:\"-\"}),/*#__PURE__*/_jsx(\"td\",{style:{padding:8,textAlign:\"right\"},children:(_r$percentage=r.percentage)!==null&&_r$percentage!==void 0?_r$percentage:\"-\"})]},r.roll_no);})})]})]})]});}function gradeFor(p){if(p==null)return'-';const n=Number(p);if(Number.isNaN(n))return'-';if(n>=75)return'A+';if(n>=60)return'A';if(n>=50)return'B';if(n>=35)return'C';return'F';}","map":{"version":3,"names":["React","useEffect","useState","useNavigate","api","useAuth","jsx","_jsx","jsxs","_jsxs","AdminViewCompleteResult","_selectedRow$final_to","_selectedRow$percenta","navigate","divisions","setDivisions","division","setDivision","rows","setRows","loading","setLoading","rollInput","setRollInput","selectedStudent","setSelectedStudent","showDetails","setShowDetails","loadDivs","res","get","data","length","err","console","error","loadDivisionResults","d","roll_no","arguments","undefined","params","Array","isArray","sort","a","b","rA","parseInt","rB","isNaN","localeCompare","selectedRow","find","r","style","padding","children","onClick","background","color","border","borderRadius","cursor","fontWeight","marginBottom","boxShadow","display","justifyContent","alignItems","margin","fontSize","textAlign","alert","url","concat","window","open","marginTop","marginLeft","response","responseType","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","parentNode","removeChild","revokeObjectURL","gap","flexDirection","value","onChange","e","target","minWidth","map","placeholder","name","final_total","percentage","width","borderCollapse","subjects","s","_s$avg","_s$grace","_s$final","finalVal","final","finalColor","borderBottom","code","grade","avg","grace","_s$mark$internal","_s$mark","_s$mark$annual","_s$mark2","internal","mark","finalExam","annual","annualTotal","overall_grade","gradeFor","_r$final_total","_r$percentage","p","n","Number"],"sources":["D:/ajay/Result_Analysis/frontend/src/pages/Admin/ViewCompleteResult.jsx"],"sourcesContent":["// src/pages/Admin/AdminViewCompleteResult.jsx\r\n\r\n/* eslint-disable no-console */\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport api from '../../services/api';\r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\nexport default function AdminViewCompleteResult() {\r\n  useAuth();\r\n  const navigate = useNavigate();\r\n  const [divisions, setDivisions] = useState([]);\r\n  const [division, setDivision] = useState('');\r\n  const [rows, setRows] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [rollInput, setRollInput] = useState('');\r\n  const [selectedStudent, setSelectedStudent] = useState(null);\r\n  const [showDetails, setShowDetails] = useState(false);\r\n\r\n  useEffect(() => {\r\n    async function loadDivs() {\r\n      try {\r\n        const res = await api.get('/admin/divisions');\r\n        setDivisions(res.data || []);\r\n        if ((res.data || []).length > 0) setDivision(res.data[0]);\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    }\r\n    loadDivs();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!division) return;\r\n    loadDivisionResults({ division });\r\n  }, [division]);\r\n\r\n  async function loadDivisionResults({ division: d, roll_no } = {}) {\r\n    setLoading(true);\r\n    try {\r\n      const params = {};\r\n      if (d) params.division = d;\r\n      if (roll_no) params.roll_no = roll_no;\r\n      const res = await api.get('/admin/results', { params });\r\n      const data = res.data || [];\r\n      if (Array.isArray(data)) {\r\n        // Sort by roll number numerically\r\n        data.sort((a, b) => {\r\n          const rA = parseInt(a.roll_no, 10);\r\n          const rB = parseInt(b.roll_no, 10);\r\n          if (!isNaN(rA) && !isNaN(rB)) return rA - rB;\r\n          return a.roll_no.localeCompare(b.roll_no);\r\n        });\r\n        setRows(data);\r\n        // Do NOT auto-select student\r\n        setSelectedStudent(null);\r\n      } else if (data && typeof data === 'object') {\r\n        setRows([data]);\r\n        setSelectedStudent(data);\r\n      } else {\r\n        setRows([]);\r\n        setSelectedStudent(null);\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      setRows([]);\r\n      setSelectedStudent(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  const selectedRow =\r\n    rows.find((r) => r.roll_no === selectedStudent?.roll_no) ||\r\n    rows[0] ||\r\n    null;\r\n\r\n  return (\r\n    <div style={{ padding: 20 }}>\r\n\r\n      {/* ‚úÖ GO BACK BUTTON */}\r\n      <button\r\n        onClick={() => navigate('/admin')}\r\n        style={{\r\n          padding: \"8px 16px\",\r\n          background: \"#1e88e5\",\r\n          color: \"white\",\r\n          border: \"none\",\r\n          borderRadius: 6,\r\n          cursor: \"pointer\",\r\n          fontWeight: 600,\r\n          marginBottom: 15,\r\n          boxShadow: \"0 2px 5px rgba(0,0,0,0.2)\"\r\n        }}\r\n      >\r\n        ‚Üê Go Back\r\n      </button>\r\n\r\n      {/* Page Header */}\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n        <div>\r\n          <h2 style={{ margin: 0, color: '#2c3e50' }}>College Results</h2>\r\n          <div style={{ fontSize: 12, color: '#666' }}>Official Marksheet</div>\r\n        </div>\r\n        <div style={{ textAlign: 'right' }}>\r\n          <div style={{ fontWeight: 700, color: '#2c3e50' }}>View Complete Result (Admin)</div>\r\n          \r\n          {/* Print Button */}\r\n          <button\r\n            onClick={() => {\r\n              if (!division || !selectedRow) return alert(\"Select a student to print\");\r\n              const url = `/admin/print-result/${division}/${selectedRow.roll_no}`;\r\n              window.open(url, '_blank');\r\n            }}\r\n            style={{\r\n              marginTop: 8,\r\n              marginLeft: 10,\r\n              padding: \"8px 12px\",\r\n              background: \"#607d8b\",\r\n              color: \"white\",\r\n              border: \"none\",\r\n              borderRadius: 6,\r\n              cursor: \"pointer\",\r\n              fontSize: 13\r\n            }}\r\n          >\r\n            Print Statement\r\n          </button>\r\n\r\n          {/* Batch Print Button */}\r\n          {division && (\r\n              <button\r\n                onClick={() => {\r\n                  window.open(`/admin/batch-print/${division}`, '_blank');\r\n                }}\r\n                style={{\r\n                  marginTop: 8,\r\n                  marginLeft: 10,\r\n                  padding: \"8px 12px\",\r\n                  background: \"#e65100\",\r\n                  color: \"white\",\r\n                  border: \"none\",\r\n                  borderRadius: 6,\r\n                  cursor: \"pointer\",\r\n                  fontSize: 13\r\n                }}\r\n              >\r\n                Batch Print Division\r\n              </button>\r\n          )}\r\n\r\n          {/* Download Excel Button */}\r\n          {division && (\r\n              <button\r\n                onClick={async () => {\r\n                  try {\r\n                    const response = await api.get(`/admin/results/export-excel?division=${division}`, {\r\n                      responseType: 'blob'\r\n                    });\r\n                    \r\n                    // Create a temporary URL for the blob\r\n                    const url = window.URL.createObjectURL(new Blob([response.data]));\r\n                    const link = document.createElement('a');\r\n                    link.href = url;\r\n                    link.setAttribute('download', `Results_Division_${division}.xlsx`);\r\n                    document.body.appendChild(link);\r\n                    link.click();\r\n                    link.parentNode.removeChild(link);\r\n                    window.URL.revokeObjectURL(url);\r\n                  } catch (err) {\r\n                    console.error('Excel export failed:', err);\r\n                    alert('Failed to download Excel file. Please try again.');\r\n                  }\r\n                }}\r\n                style={{\r\n                  marginTop: 8,\r\n                  marginLeft: 10,\r\n                  padding: \"8px 12px\",\r\n                  background: \"#27ae60\",\r\n                  color: \"white\",\r\n                  border: \"none\",\r\n                  borderRadius: 6,\r\n                  cursor: \"pointer\",\r\n                  fontSize: 13,\r\n                  fontWeight: 600\r\n                }}\r\n              >\r\n                üì• Download Excel\r\n              </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters Row */}\r\n      <div style={{ display: 'flex', gap: 12, marginTop: 20, marginBottom: 20, alignItems: 'flex-end' }}>\r\n        \r\n        {/* Division */}\r\n        <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n          <label style={{ fontWeight: 600 }}>Division</label>\r\n          <select\r\n            value={division}\r\n            onChange={(e) => setDivision(e.target.value)}\r\n            style={{ minWidth: 180, padding: \"8px\", borderRadius: 6 }}\r\n          >\r\n            <option value=\"\">-- Select division --</option>\r\n            {divisions.map((d) => (\r\n              <option key={d} value={d}>{d}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        {/* Roll Search */}\r\n        <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n          <label style={{ fontWeight: 600 }}>Roll No</label>\r\n          <div style={{ display: 'flex', gap: 12 }}>\r\n            <input\r\n              value={rollInput}\r\n              onChange={(e) => setRollInput(e.target.value)}\r\n              placeholder=\"Enter roll number\"\r\n              style={{\r\n                minWidth: 180,\r\n                padding: \"8px\",\r\n                border: \"1px solid #ccc\",\r\n                borderRadius: 6,\r\n              }}\r\n            />\r\n            <button\r\n              onClick={() => {\r\n                if (!division) return alert('Please select a Division first');\r\n                if (!rollInput) return alert('Enter Roll Number');\r\n                loadDivisionResults({ division, roll_no: rollInput });\r\n              }}\r\n              style={{\r\n                padding: \"8px 14px\",\r\n                background: \"#1565c0\",\r\n                color: \"white\",\r\n                border: \"none\",\r\n                borderRadius: 6,\r\n                cursor: \"pointer\"\r\n              }}\r\n            >\r\n              Search\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Loading */}\r\n      {loading && <div style={{ fontWeight: 600 }}>Loading...</div>}\r\n\r\n      {/* No Data */}\r\n      {!loading && rows.length === 0 && (\r\n        <div style={{ color: \"#666\" }}>No results available.</div>\r\n      )}\r\n\r\n      {/* Student Result Card */}\r\n      {!loading && selectedRow && (\r\n        <div style={{\r\n          marginTop: 16,\r\n          border: '1px solid #e6e9ee',\r\n          padding: 16,\r\n          borderRadius: 8,\r\n          background: '#ffffff',\r\n          boxShadow: \"0 2px 8px rgba(0,0,0,0.05)\"\r\n        }}>\r\n          \r\n          {/* Student Header */}\r\n          <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n            <div>\r\n              <h3 style={{ margin: 0 }}>{selectedRow.roll_no} - {selectedRow.name}</h3>\r\n              <div style={{ color: '#555' }}>\r\n                Division: <strong>{selectedRow.division}</strong>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ textAlign: \"right\" }}>\r\n              <div style={{ fontSize: 20, fontWeight: 800, color: \"#2c3e50\" }}>Grand Total</div>\r\n              <div style={{ fontSize: 30, fontWeight: 900 }}>\r\n                {selectedRow.final_total ?? \"-\"}\r\n              </div>\r\n              <div style={{ marginTop: 6, fontSize: 14 }}>\r\n                Percentage:{\" \"}\r\n                <span style={{ fontWeight: 800, color: \"#2980b9\" }}>\r\n                  {selectedRow.percentage ?? \"-\"}%\r\n                </span>\r\n              </div>\r\n              <div style={{ marginTop: 4, fontSize: 12, color: \"#666\" }}>\r\n                Max Marks: 600\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Subject Table */}\r\n          <table style={{ width: \"100%\", borderCollapse: \"collapse\", marginTop: 16 }}>\r\n            <thead>\r\n              <tr style={{ background: \"#f7faff\" }}>\r\n                <th style={{ padding: 10, textAlign: \"left\" }}>Subject</th>\r\n                <th style={{ padding: 10, textAlign: \"right\" }}>Annual Marks</th>\r\n                <th style={{ padding: 10, textAlign: \"right\" }}>Grace</th>\r\n                <th style={{ padding: 10, textAlign: \"right\" }}>Final</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {selectedRow.subjects.map((s) => {\r\n                const finalVal = s.final;\r\n                const finalColor = (typeof finalVal === 'number' && finalVal < 35) ? '#c0392b' : '#d35400';\r\n                return (\r\n                  <tr key={s.code} style={{ borderBottom: \"1px solid #eee\" }}>\r\n                    <td style={{ padding: 10 }}>{s.code}</td>\r\n                    <td style={{ padding: 10, textAlign: \"right\", fontWeight: 700 }}>\r\n                      {s.grade ? s.grade : (s.avg ?? \"-\")}\r\n                    </td>\r\n                    <td style={{ padding: 10, textAlign: \"right\" }}>\r\n                      {s.grade ? \"-\" : (s.grace ?? 0)}\r\n                    </td>\r\n                    <td style={{ padding: 10, textAlign: \"right\", fontWeight: 700, color: finalColor }}>\r\n                      {s.grade ? \"-\" : (s.final ?? \"-\")}\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n\r\n          {/* Buttons */}\r\n          <div style={{ marginTop: 16, display: \"flex\", gap: 10 }}>\r\n            <button\r\n              onClick={() => setShowDetails((d) => !d)}\r\n              style={{\r\n                padding: \"8px 12px\",\r\n                background: \"#546e7a\",\r\n                color: \"white\",\r\n                border: \"none\",\r\n                borderRadius: 6,\r\n                cursor: \"pointer\",\r\n              }}\r\n            >\r\n              {showDetails ? \"Hide\" : \"Show\"} Detailed Marks\r\n            </button>\r\n\r\n\r\n          </div>\r\n\r\n          {/* Detailed Marks */}\r\n          {showDetails && (\r\n            <div style={{ marginTop: 16 }}>\r\n              <h4>Detailed Marks Breakdown (Annual Marks = Internal + Final Exam)</h4>\r\n\r\n                <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\r\n                  <thead>\r\n                    <tr style={{ background: \"#fafafa\" }}>\r\n                      <th style={{ padding: 8, textAlign: \"left\" }}>Subject</th>\r\n                      <th style={{ padding: 8, textAlign: \"right\" }}>Internal</th>\r\n                      <th style={{ padding: 8, textAlign: \"right\" }}>Final Exam</th>\r\n                      <th style={{ padding: 8, textAlign: \"right\" }}>Annual Total</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {selectedRow.subjects.map((s) => {\r\n                      const internal = s.mark?.internal ?? 0;\r\n                      const finalExam = s.mark?.annual ?? 0;\r\n                      const annualTotal = internal + finalExam;\r\n                      \r\n                      return (\r\n                        <tr key={`detail-${s.code}`} style={{ borderBottom: \"1px solid #eee\" }}>\r\n                          <td style={{ padding: 8 }}>{s.code}</td>\r\n                          <td style={{ padding: 8, textAlign: \"right\" }}>{internal || \"-\"}</td>\r\n                          <td style={{ padding: 8, textAlign: \"right\" }}>{finalExam || \"-\"}</td>\r\n                          <td style={{ padding: 8, textAlign: \"right\", fontWeight: 700 }}>{annualTotal || \"-\"}</td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </table>\r\n            </div>\r\n          )}\r\n\r\n          {/* Pass/Fail Section */}\r\n          {/* <div style={{ display: \"flex\", justifyContent: \"flex-end\", marginTop: 16, padding: 12, background: \"#f5f5f5\", borderRadius: 6 }}>\r\n            <div style={{ textAlign: \"right\" }}>\r\n              <div style={{ fontSize: 13, color: \"#666\" }}>Grand Total: <strong>{selectedRow.final_total ?? \"-\"}</strong> / {selectedRow.subjects?.length * 10 || \"-\"}</div>\r\n              <div style={{ fontSize: 13, color: \"#666\", marginTop: 4 }}>Percentage: <strong>{selectedRow.percentage ?? \"-\"}%</strong></div>\r\n              <div style={{ fontSize: 13, color: \"#666\", marginTop: 4 }}>Subjects: {selectedRow.percentage != null ? 6 : (selectedRow.subjects?.length || 0)}</div>\r\n            </div>\r\n          </div> */}\r\n          <div style={{ display: \"flex\", justifyContent: \"space-between\", marginTop: 16 }}>\r\n            <div>\r\n              <strong>Grade: </strong>\r\n            </div>\r\n\r\n            <div style={{ fontWeight: 900, color: selectedRow.percentage >= 35 ? \"#27ae60\" : \"#c0392b\" }}>\r\n              <span style={{ color: \"#27ae60\" }}>\r\n                {selectedRow.overall_grade ? selectedRow.overall_grade : gradeFor(selectedRow.percentage)}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Division Table */}\r\n      {!loading && rows.length > 1 && (\r\n        <div style={{ marginTop: 16 }}>\r\n          <h4>Division Students</h4>\r\n          <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\r\n            <thead>\r\n              <tr style={{ background: \"#f5f5f5\" }}>\r\n                <th style={{ padding: 8 }}>Roll</th>\r\n                <th style={{ padding: 8 }}>Name</th>\r\n                <th style={{ padding: 8, textAlign: \"right\" }}>Final Total</th>\r\n                <th style={{ padding: 8, textAlign: \"right\" }}>Percentage</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {rows.map((r) => (\r\n                <tr\r\n                  key={r.roll_no}\r\n                  onClick={() => setSelectedStudent(r)}\r\n                  style={{ cursor: \"pointer\", borderBottom: \"1px solid #eee\" }}\r\n                >\r\n                  <td style={{ padding: 8 }}>{r.roll_no}</td>\r\n                  <td style={{ padding: 8 }}>{r.name}</td>\r\n                  <td style={{ padding: 8, textAlign: \"right\" }}>{r.final_total ?? \"-\"}</td>\r\n                  <td style={{ padding: 8, textAlign: \"right\" }}>{r.percentage ?? \"-\"}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction gradeFor(p) {\r\n  if (p == null) return '-';\r\n  const n = Number(p);\r\n  if (Number.isNaN(n)) return '-';\r\n  if (n >= 75) return 'A+';\r\n  if (n >= 60) return 'A';\r\n  if (n >= 50) return 'B';\r\n  if (n >= 35) return 'C';\r\n  return 'F';\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}